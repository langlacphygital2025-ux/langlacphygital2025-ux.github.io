import{r as e,a as t,u as n,L as r,R as i,b as a,c as s,B as o}from"./react-vendor-lf4J09SJ.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var l={exports:{}},c={},u=e,d=Symbol.for("react.element"),h=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,g=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function f(e,t,n){var r,i={},a=null,s=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(s=t.ref),t)m.call(t,r)&&!p.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:d,type:e,key:a,ref:s,props:i,_owner:g.current}}c.Fragment=h,c.jsx=f,c.jsxs=f,l.exports=c;var v=l.exports,b={},y=t;function x(){const[t,i]=e.useState(!1),a=n(),s=()=>i(!1),o=e=>a.pathname===e;return v.jsx("nav",{className:"navigation",children:v.jsxs("div",{className:"nav-container",children:[v.jsx(r,{to:"/",className:"nav-logo",onClick:s,children:"Bong App"}),v.jsx("button",{className:"nav-toggle",onClick:()=>i(!t),"aria-label":"Toggle navigation menu","aria-expanded":t,children:v.jsxs("span",{className:"hamburger "+(t?"open":""),children:[v.jsx("span",{}),v.jsx("span",{}),v.jsx("span",{})]})}),v.jsxs("div",{className:"nav-menu "+(t?"open":""),children:[v.jsx(r,{to:"/",className:"nav-link "+(o("/")?"active":""),onClick:s,children:"Home"}),v.jsx(r,{to:"/about",className:"nav-link "+(o("/about")?"active":""),onClick:s,children:"About"})]})]})})}function N({children:e}){return v.jsxs("div",{className:"layout",children:[v.jsx(x,{}),v.jsx("main",{className:"main-content",children:e}),v.jsx("footer",{className:"footer",children:v.jsx("div",{className:"container",children:v.jsxs("p",{children:["© ",(new Date).getFullYear()," Bong Capstone. All rights reserved."]})})})]})}b.createRoot=y.createRoot,b.hydrateRoot=y.hydrateRoot;function A({isOpen:t,onClose:n,onStartGame:r,onTeamChange:i}){const[a,s]=e.useState("team1"),[o,l]=e.useState({team1:"",team2:""}),[c,u]=e.useState(!1),d=e=>{s(e),i&&i(e)};e.useEffect(()=>{t&&i&&i(a)},[t]);const h=e=>{l({...o,[a]:e.target.value})};return v.jsx("div",{className:`bottom-sheet-overlay ${t?"open":""} ${c?"fading-out":""}`,onClick:e=>{e.target.classList.contains("bottom-sheet-overlay")&&n()},children:v.jsx("div",{className:`bottom-sheet ${t?"open":""} ${c?"fading-out":""}`,children:v.jsxs("div",{className:"bottom-sheet-content",children:[v.jsx("h2",{className:"bottom-sheet-title",children:"nhập tên đội chơi"}),v.jsxs("div",{className:"team-inputs-container",children:[v.jsx("div",{className:"team-input-wrapper",children:v.jsxs("button",{className:"team-button "+("team1"===a?"active":""),onClick:()=>d("team1"),type:"button",children:[v.jsx("span",{className:"team-label",children:"ĐỘI 1"}),"team1"===a?v.jsx("input",{type:"text",className:"team-name-input",value:o.team1,onChange:h,placeholder:"Lạc con",autoFocus:!0,onClick:e=>e.stopPropagation()}):v.jsx("span",{className:"team-name-display team-name-greyed",children:o.team1||"Lạc con"})]})}),v.jsx("div",{className:"team-input-wrapper",children:v.jsxs("button",{className:"team-button "+("team2"===a?"active":""),onClick:()=>d("team2"),type:"button",children:[v.jsx("span",{className:"team-label",children:"đội 2"}),"team2"===a?v.jsx("input",{type:"text",className:"team-name-input",value:o.team2,onChange:h,placeholder:"Nhập tên đội",autoFocus:!0,onClick:e=>e.stopPropagation()}):v.jsx("span",{className:"team-name-display team-name-greyed",children:o.team2||"Nhập tên đội"})]})})]}),v.jsx("button",{className:"start-game-button",onClick:()=>{u(!0),setTimeout(()=>{n&&n(),r&&r({teamNames:o,currentTeam:a}),u(!1)},350)},children:"Vào chơi"})]})})})}function w({isOpen:t,onClose:n,currentTeamName:r,onSubmit:i}){const[a,s]=e.useState(!1),[o,l]=e.useState("");if(!t)return null;return v.jsx("div",{className:"gameplay-overlay "+(t?"open":""),children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("h2",{className:"gameplay-title",children:"Nhập số trên mảnh ghép"}),v.jsx("div",{className:"gameplay-input-pill "+(a?"focused":""),children:v.jsx("input",{className:"gameplay-number-input",type:"text","aria-label":"Nhập số",value:o,onChange:e=>l(e.target.value),onFocus:()=>s(!0),onBlur:()=>s(!1)})}),v.jsx("button",{className:"gameplay-accept",onClick:()=>{const e=(o||"").toString().trim(),t=e.match(/\d+/),n=t?t[0]:e;i&&i(n)},children:"Nhận thử thách"}),v.jsxs("button",{className:"gameplay-leaf-button",children:[v.jsx("img",{src:"data:image/png;base64,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",className:"gameplay-leaf",alt:"leaf hat"}),v.jsx("span",{children:"Nón lá hi vọng"})]}),v.jsx("button",{className:"gameplay-skip",onClick:()=>{n&&n()},children:"Bỏ qua"})]})})}const C=e.createContext(null);function j({children:t}){const[n,r]=e.useState({team1:0,team2:0}),[i,a]=e.useState("team1"),s=e=>Math.max(0,e);return v.jsx(C.Provider,{value:{teamScores:n,currentTeam:i,answerQuestion:function(e){r(t=>{const n=t[i]||0;let r=n;return"success"===e?r=n+1:"failure"===e&&(r=n-3),r=s(r),{...t,[i]:r}}),a(t=>{const n="team1"===t?"team2":"team1";try{console.log("GameProvider: switching turn",{from:t,to:n,result:e})}catch(r){}return n})},switchTurn:function(){a(e=>"team1"===e?"team2":"team1")},setScore:function(e,t){r(n=>({...n,[e]:s(t)}))},reset:function(){r({team1:0,team2:0}),a("team1")},setCurrentTeam:a},children:t})}const S="data:image/png;base64,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";function T({src:t,onPlay:n,onPause:r,onEnded:i,className:a}){const s=e.useRef(null),[o,l]=e.useState(!1),[c,u]=e.useState(0),[d,h]=e.useState(0),m=e.useRef(null);e.useEffect(()=>{const e=s.current;if(!e)return;const t=()=>{l(!0),n?.()},a=()=>{l(!1),r?.()},o=()=>{l(!1),i?.()},c=()=>{u(e.currentTime)},d=()=>{h(e.duration)};return e.addEventListener("play",t),e.addEventListener("pause",a),e.addEventListener("ended",o),e.addEventListener("timeupdate",c),e.addEventListener("loadedmetadata",d),()=>{e.removeEventListener("play",t),e.removeEventListener("pause",a),e.removeEventListener("ended",o),e.removeEventListener("timeupdate",c),e.removeEventListener("loadedmetadata",d)}},[n,r,i]);const g=e=>{if(!e||isNaN(e))return"0:00";const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n<10?"0":""}${n}`};return v.jsxs(v.Fragment,{children:[v.jsx("audio",{ref:s,src:t}),v.jsxs("div",{className:`custom-audio-player ${a||""}`,children:[v.jsx("button",{className:"audio-player-play-btn",onClick:()=>{s.current.paused?s.current.play():s.current.pause()},"aria-label":o?"Pause":"Play",children:o?v.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"white",children:v.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):v.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"white",children:v.jsx("path",{d:"M8 5v14l11-7z"})})}),v.jsx("div",{className:"audio-player-timeline-wrapper",children:v.jsxs("div",{className:"audio-player-progress-container",ref:m,onClick:e=>{const t=m.current.getBoundingClientRect(),n=(e.clientX-t.left)/t.width;s.current.currentTime=n*d},children:[v.jsx("div",{className:"audio-player-progress-bar",style:{width:d?c/d*100+"%":"0%"}}),v.jsx("div",{className:"audio-player-progress-thumb",style:{left:d?c/d*100+"%":"0%"}})]})}),v.jsxs("div",{className:"audio-player-time",children:[g(c)," / ",g(d)]})]})]})}const R="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function D(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function k(e){return"nodeType"in e}function M(e){var t,n;return e?D(e)?e:k(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function E(e){const{Document:t}=M(e);return e instanceof t}function I(e){return!D(e)&&e instanceof M(e).HTMLElement}function L(e){return e instanceof M(e).SVGElement}function P(e){return e?D(e)?e.document:k(e)?E(e)?e:I(e)||L(e)?e.ownerDocument:document:document:document}const H=R?e.useLayoutEffect:e.useEffect;function B(t){const n=e.useRef(t);return H(()=>{n.current=t}),e.useCallback(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)},[])}function z(t,n){void 0===n&&(n=[t]);const r=e.useRef(t);return H(()=>{r.current!==t&&(r.current=t)},n),r}function O(t,n){const r=e.useRef();return e.useMemo(()=>{const e=t(r.current);return r.current=e,e},[...n])}function q(t){const n=B(t),r=e.useRef(null),i=e.useCallback(e=>{e!==r.current&&(null==n||n(e,r.current)),r.current=e},[]);return[r,i]}function X(t){const n=e.useRef();return e.useEffect(()=>{n.current=t},[t]),n.current}let U={};function G(t,n){return e.useMemo(()=>{if(n)return n;const e=null==U[t]?0:U[t]+1;return U[t]=e,t+"-"+e},[t,n])}function F(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((t,n)=>{const r=Object.entries(n);for(const[i,a]of r){const n=t[i];null!=n&&(t[i]=n+e*a)}return t},{...t})}}const K=F(1),Q=F(-1);function V(e){if(!e)return!1;const{KeyboardEvent:t}=M(e.target);return t&&e instanceof t}function W(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=M(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const J=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[J.Translate.toString(e),J.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Y="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Z(e){return e.matches(Y)?e:e.querySelector(Y)}const _={display:"none"};function $(e){let{id:t,value:n}=e;return i.createElement("div",{id:t,style:_},n)}function ee(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return i.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}const te=e.createContext(null);const ne={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},re={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ie(n){let{announcements:r=re,container:a,hiddenTextDescribedById:s,screenReaderInstructions:o=ne}=n;const{announce:l,announcement:c}=function(){const[t,n]=e.useState("");return{announce:e.useCallback(e=>{null!=e&&n(e)},[]),announcement:t}}(),u=G("DndLiveRegion"),[d,h]=e.useState(!1);if(e.useEffect(()=>{h(!0)},[]),function(t){const n=e.useContext(te);e.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(t)},[t,n])}(e.useMemo(()=>({onDragStart(e){let{active:t}=e;l(r.onDragStart({active:t}))},onDragMove(e){let{active:t,over:n}=e;r.onDragMove&&l(r.onDragMove({active:t,over:n}))},onDragOver(e){let{active:t,over:n}=e;l(r.onDragOver({active:t,over:n}))},onDragEnd(e){let{active:t,over:n}=e;l(r.onDragEnd({active:t,over:n}))},onDragCancel(e){let{active:t,over:n}=e;l(r.onDragCancel({active:t,over:n}))}}),[l,r])),!d)return null;const m=i.createElement(i.Fragment,null,i.createElement($,{id:s,value:o.draggable}),i.createElement(ee,{id:u,announcement:c}));return a?t.createPortal(m,a):m}var ae;function se(){}function oe(t,n){return e.useMemo(()=>({sensor:t,options:null!=n?n:{}}),[t,n])}function le(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useMemo(()=>[...n].filter(e=>null!=e),[...n])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(ae||(ae={}));const ce=Object.freeze({x:0,y:0});function ue(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function de(e,t){const n=W(e);if(!n)return"0 0";return(n.x-t.left)/t.width*100+"% "+(n.y-t.top)/t.height*100+"%"}function he(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function me(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function ge(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function pe(e,t){if(!e||0===e.length)return null;const[n]=e;return n[t]}function fe(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const ve=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=fe(t,t.left,t.top),a=[];for(const s of r){const{id:e}=s,t=n.get(e);if(t){const n=ue(fe(t),i);a.push({id:e,data:{droppableContainer:s,value:n}})}}return a.sort(he)};function be(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),s=i-r,o=a-n;if(r<i&&n<a){const n=t.width*t.height,r=e.width*e.height,i=s*o;return Number((i/(n+r-i)).toFixed(4))}return 0}const ye=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const a of r){const{id:e}=a,r=n.get(e);if(r){const n=be(r,t);n>0&&i.push({id:e,data:{droppableContainer:a,value:n}})}}return i.sort(me)};function xe(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ce}function Ne(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}const Ae=Ne(1);function we(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const Ce={ignoreTransform:!1};function je(e,t){void 0===t&&(t=Ce);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=M(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=we(t);if(!r)return e;const{scaleX:i,scaleY:a,x:s,y:o}=r,l=e.left-s-(1-i)*parseFloat(n),c=e.top-o-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?e.width/i:e.width,d=a?e.height/a:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}(n,t,r))}const{top:r,left:i,width:a,height:s,bottom:o,right:l}=n;return{top:r,left:i,width:a,height:s,bottom:o,right:l}}function Se(e){return je(e,{ignoreTransform:!0})}function Te(e,t){const n=[];return e?function r(i){if(null!=t&&n.length>=t)return n;if(!i)return n;if(E(i)&&null!=i.scrollingElement&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!I(i)||L(i))return n;if(n.includes(i))return n;const a=M(e).getComputedStyle(i);return i!==e&&function(e,t){void 0===t&&(t=M(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"==typeof r&&n.test(r)})}(i,a)&&n.push(i),function(e,t){return void 0===t&&(t=M(e).getComputedStyle(e)),"fixed"===t.position}(i,a)?n:r(i.parentNode)}(e):n}function Re(e){const[t]=Te(e,1);return null!=t?t:null}function De(e){return R&&e?D(e)?e:k(e)?E(e)||e===P(e).scrollingElement?window:I(e)?e:null:null:null}function ke(e){return D(e)?e.scrollX:e.scrollLeft}function Me(e){return D(e)?e.scrollY:e.scrollTop}function Ee(e){return{x:ke(e),y:Me(e)}}var Ie;function Le(e){return!(!R||!e)&&e===document.scrollingElement}function Pe(e){const t={x:0,y:0},n=Le(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Ie||(Ie={}));const He={x:.2,y:.2};function Be(e,t,n,r,i){let{top:a,left:s,right:o,bottom:l}=n;void 0===r&&(r=10),void 0===i&&(i=He);const{isTop:c,isBottom:u,isLeft:d,isRight:h}=Pe(e),m={x:0,y:0},g={x:0,y:0},p=t.height*i.y,f=t.width*i.x;return!c&&a<=t.top+p?(m.y=Ie.Backward,g.y=r*Math.abs((t.top+p-a)/p)):!u&&l>=t.bottom-p&&(m.y=Ie.Forward,g.y=r*Math.abs((t.bottom-p-l)/p)),!h&&o>=t.right-f?(m.x=Ie.Forward,g.x=r*Math.abs((t.right-f-o)/f)):!d&&s<=t.left+f&&(m.x=Ie.Backward,g.x=r*Math.abs((t.left+f-s)/f)),{direction:m,speed:g}}function ze(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function Oe(e){return e.reduce((e,t)=>K(e,Ee(t)),ce)}function qe(e,t){if(void 0===t&&(t=je),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);Re(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Xe=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+ke(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+Me(t),0)}]];class Ue{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Te(t),r=Oe(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,a,s]of Xe)for(const e of a)Object.defineProperty(this,e,{get:()=>{const t=s(n),a=r[i]-t;return this.rect[e]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ge{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Fe(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var Ke,Qe;function Ve(e){e.preventDefault()}function We(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Ke||(Ke={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(Qe||(Qe={}));const Je={start:[Qe.Space,Qe.Enter],cancel:[Qe.Esc],end:[Qe.Space,Qe.Enter,Qe.Tab]},Ye=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Qe.Right:return{...n,x:n.x+25};case Qe.Left:return{...n,x:n.x-25};case Qe.Down:return{...n,y:n.y+25};case Qe.Up:return{...n,y:n.y-25}}};class Ze{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Ge(P(t)),this.windowListeners=new Ge(M(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ke.Resize,this.handleCancel),this.windowListeners.add(Ke.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ke.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&qe(n),t(ce)}handleKeyDown(e){if(V(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:i=Je,coordinateGetter:a=Ye,scrollBehavior:s="smooth"}=r,{code:o}=e;if(i.end.includes(o))return void this.handleEnd(e);if(i.cancel.includes(o))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:ce;this.referenceCoordinates||(this.referenceCoordinates=c);const u=a(e,{active:t,context:n.current,currentCoordinates:c});if(u){const t=Q(u,c),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(const n of i){const i=e.code,{isTop:a,isRight:o,isLeft:l,isBottom:c,maxScroll:d,minScroll:h}=Pe(n),m=ze(n),g={x:Math.min(i===Qe.Right?m.right-m.width/2:m.right,Math.max(i===Qe.Right?m.left:m.left+m.width/2,u.x)),y:Math.min(i===Qe.Down?m.bottom-m.height/2:m.bottom,Math.max(i===Qe.Down?m.top:m.top+m.height/2,u.y))},p=i===Qe.Right&&!o||i===Qe.Left&&!l,f=i===Qe.Down&&!c||i===Qe.Up&&!a;if(p&&g.x!==u.x){const e=n.scrollLeft+t.x,a=i===Qe.Right&&e<=d.x||i===Qe.Left&&e>=h.x;if(a&&!t.y)return void n.scrollTo({left:e,behavior:s});r.x=a?n.scrollLeft-e:i===Qe.Right?n.scrollLeft-d.x:n.scrollLeft-h.x,r.x&&n.scrollBy({left:-r.x,behavior:s});break}if(f&&g.y!==u.y){const e=n.scrollTop+t.y,a=i===Qe.Down&&e<=d.y||i===Qe.Up&&e>=h.y;if(a&&!t.x)return void n.scrollTo({top:e,behavior:s});r.y=a?n.scrollTop-e:i===Qe.Down?n.scrollTop-d.y:n.scrollTop-h.y,r.y&&n.scrollBy({top:-r.y,behavior:s});break}}this.handleMove(e,K(Q(u,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function _e(e){return Boolean(e&&"distance"in e)}function $e(e){return Boolean(e&&"delay"in e)}Ze.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Je,onActivation:i}=t,{active:a}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==i||i({event:e.nativeEvent}),!0)}return!1}}];class et{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=M(e);return e instanceof t?e:P(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:a}=i;this.props=e,this.events=t,this.document=P(a),this.documentListeners=new Ge(this.document),this.listeners=new Ge(n),this.windowListeners=new Ge(M(a)),this.initialCoordinates=null!=(r=W(i))?r:ce,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ke.Resize,this.handleCancel),this.windowListeners.add(Ke.DragStart,Ve),this.windowListeners.add(Ke.VisibilityChange,this.handleCancel),this.windowListeners.add(Ke.ContextMenu,Ve),this.documentListeners.add(Ke.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if($e(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(_e(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ke.Click,We,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ke.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:i}=this,{onMove:a,options:{activationConstraint:s}}=i;if(!r)return;const o=null!=(t=W(e))?t:ce,l=Q(r,o);if(!n&&s){if(_e(s)){if(null!=s.tolerance&&Fe(l,s.tolerance))return this.handleCancel();if(Fe(l,s.distance))return this.handleStart()}return $e(s)&&Fe(l,s.tolerance)?this.handleCancel():void this.handlePending(s,l)}e.cancelable&&e.preventDefault(),a(o)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Qe.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const tt={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class nt extends et{constructor(e){const{event:t}=e,n=P(t.target);super(e,tt,n)}}nt.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const rt={move:{name:"mousemove"},end:{name:"mouseup"}};var it;!function(e){e[e.RightClick=2]="RightClick"}(it||(it={}));(class extends et{constructor(e){super(e,rt,P(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==it.RightClick&&(null==r||r({event:n}),!0)}}];const at={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var st,ot;function lt(t){let{acceleration:n,activator:r=st.Pointer,canScroll:i,draggingRect:a,enabled:s,interval:o=5,order:l=ot.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:m}=t;const g=function(e){let{delta:t,disabled:n}=e;const r=X(t);return O(e=>{if(n||!r||!e)return ct;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Ie.Backward]:e.x[Ie.Backward]||-1===i.x,[Ie.Forward]:e.x[Ie.Forward]||1===i.x},y:{[Ie.Backward]:e.y[Ie.Backward]||-1===i.y,[Ie.Forward]:e.y[Ie.Forward]||1===i.y}}},[n,t,r])}({delta:h,disabled:!s}),[p,f]=function(){const t=e.useRef(null);return[e.useCallback((e,n)=>{t.current=setInterval(e,n)},[]),e.useCallback(()=>{null!==t.current&&(clearInterval(t.current),t.current=null)},[])]}(),v=e.useRef({x:0,y:0}),b=e.useRef({x:0,y:0}),y=e.useMemo(()=>{switch(r){case st.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case st.DraggableRect:return a}},[r,a,c]),x=e.useRef(null),N=e.useCallback(()=>{const e=x.current;if(!e)return;const t=v.current.x*b.current.x,n=v.current.y*b.current.y;e.scrollBy(t,n)},[]),A=e.useMemo(()=>l===ot.TreeOrder?[...u].reverse():u,[l,u]);e.useEffect(()=>{if(s&&u.length&&y){for(const e of A){if(!1===(null==i?void 0:i(e)))continue;const t=u.indexOf(e),r=d[t];if(!r)continue;const{direction:a,speed:s}=Be(e,r,y,n,m);for(const e of["x","y"])g[e][a[e]]||(s[e]=0,a[e]=0);if(s.x>0||s.y>0)return f(),x.current=e,p(N,o),v.current=s,void(b.current=a)}v.current={x:0,y:0},b.current={x:0,y:0},f()}else f()},[n,N,i,f,s,o,JSON.stringify(y),JSON.stringify(g),p,u,A,d,JSON.stringify(m)])}(class extends et{constructor(e){super(e,at)}static setup(){return window.addEventListener(at.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(at.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return!(i.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(st||(st={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(ot||(ot={}));const ct={x:{[Ie.Backward]:!1,[Ie.Forward]:!1},y:{[Ie.Backward]:!1,[Ie.Forward]:!1}};var ut,dt;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(ut||(ut={})),function(e){e.Optimized="optimized"}(dt||(dt={}));const ht=new Map;function mt(e,t){return O(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function gt(t){let{callback:n,disabled:r}=t;const i=B(n),a=e.useMemo(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(i)},[r]);return e.useEffect(()=>()=>null==a?void 0:a.disconnect(),[a]),a}function pt(e){return new Ue(je(e),e)}function ft(t,n,r){void 0===n&&(n=pt);const[i,a]=e.useState(null);function s(){a(e=>{if(!t)return null;var i;if(!1===t.isConnected)return null!=(i=null!=e?e:r)?i:null;const a=n(t);return JSON.stringify(e)===JSON.stringify(a)?e:a})}const o=function(t){let{callback:n,disabled:r}=t;const i=B(n),a=e.useMemo(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(i)},[i,r]);return e.useEffect(()=>()=>null==a?void 0:a.disconnect(),[a]),a}({callback(e){if(t)for(const n of e){const{type:e,target:r}=n;if("childList"===e&&r instanceof HTMLElement&&r.contains(t)){s();break}}}}),l=gt({callback:s});return H(()=>{s(),t?(null==l||l.observe(t),null==o||o.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==o||o.disconnect())},[t]),i}const vt=[];function bt(t,n){void 0===n&&(n=[]);const r=e.useRef(null);return e.useEffect(()=>{r.current=null},n),e.useEffect(()=>{const e=t!==ce;e&&!r.current&&(r.current=t),!e&&r.current&&(r.current=null)},[t]),r.current?Q(t,r.current):ce}function yt(t){return e.useMemo(()=>t?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(t):null,[t])}const xt=[];function Nt(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return I(t)?t:e}const At=[{sensor:nt,options:{}},{sensor:Ze,options:{}}],wt={current:{}},Ct={draggable:{measure:Se},droppable:{measure:Se,strategy:ut.WhileDragging,frequency:dt.Optimized},dragOverlay:{measure:je}};class jt extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const St={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new jt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:se},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ct,measureDroppableContainers:se,windowRect:null,measuringScheduled:!1},Tt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:se,draggableNodes:new Map,over:null,measureDroppableContainers:se},Rt=e.createContext(Tt),Dt=e.createContext(St);function kt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new jt}}}function Mt(e,t){switch(t.type){case ae.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ae.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ae.DragEnd:case ae.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ae.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new jt(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case ae.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const s=new jt(e.droppable.containers);return s.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case ae.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new jt(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function Et(t){let{disabled:n}=t;const{active:r,activatorEvent:i,draggableNodes:a}=e.useContext(Rt),s=X(i),o=X(null==r?void 0:r.id);return e.useEffect(()=>{if(!n&&!i&&s&&null!=o){if(!V(s))return;if(document.activeElement===s.target)return;const e=a.get(o);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=Z(e);if(t){t.focus();break}}})}},[i,n,a,o,s]),null}function It(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}const Lt=e.createContext({...ce,scaleX:1,scaleY:1});var Pt;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Pt||(Pt={}));const Ht=e.memo(function(n){var r,a,s,o;let{id:l,accessibility:c,autoScroll:u=!0,children:d,sensors:h=At,collisionDetection:m=ye,measuring:g,modifiers:p,...f}=n;const v=e.useReducer(Mt,void 0,kt),[b,y]=v,[x,N]=function(){const[t]=e.useState(()=>new Set),n=e.useCallback(e=>(t.add(e),()=>t.delete(e)),[t]);return[e.useCallback(e=>{let{type:n,event:r}=e;t.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[t]),n]}(),[A,w]=e.useState(Pt.Uninitialized),C=A===Pt.Initialized,{draggable:{active:j,nodes:S,translate:T},droppable:{containers:D}}=b,k=null!=j?S.get(j):null,E=e.useRef({initial:null,translated:null}),L=e.useMemo(()=>{var e;return null!=j?{id:j,data:null!=(e=null==k?void 0:k.data)?e:wt,rect:E}:null},[j,k]),P=e.useRef(null),[B,X]=e.useState(null),[U,F]=e.useState(null),Q=z(f,Object.values(f)),V=G("DndDescribedBy",l),J=e.useMemo(()=>D.getEnabled(),[D]),Y=(Z=g,e.useMemo(()=>({draggable:{...Ct.draggable,...null==Z?void 0:Z.draggable},droppable:{...Ct.droppable,...null==Z?void 0:Z.droppable},dragOverlay:{...Ct.dragOverlay,...null==Z?void 0:Z.dragOverlay}}),[null==Z?void 0:Z.draggable,null==Z?void 0:Z.droppable,null==Z?void 0:Z.dragOverlay]));var Z;const{droppableRects:_,measureDroppableContainers:$,measuringScheduled:ee}=function(t,n){let{dragging:r,dependencies:i,config:a}=n;const[s,o]=e.useState(null),{frequency:l,measure:c,strategy:u}=a,d=e.useRef(t),h=function(){switch(u){case ut.Always:return!1;case ut.BeforeDragging:return r;default:return!r}}(),m=z(h),g=e.useCallback(function(e){void 0===e&&(e=[]),m.current||o(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[m]),p=e.useRef(null),f=O(e=>{if(h&&!r)return ht;if(!e||e===ht||d.current!==t||null!=s){const e=new Map;for(let n of t){if(!n)continue;if(s&&s.length>0&&!s.includes(n.id)&&n.rect.current){e.set(n.id,n.rect.current);continue}const t=n.node.current,r=t?new Ue(c(t),t):null;n.rect.current=r,r&&e.set(n.id,r)}return e}return e},[t,s,r,h,c]);return e.useEffect(()=>{d.current=t},[t]),e.useEffect(()=>{h||g()},[r,h]),e.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),e.useEffect(()=>{h||"number"!=typeof l||null!==p.current||(p.current=setTimeout(()=>{g(),p.current=null},l))},[l,h,g,...i]),{droppableRects:f,measureDroppableContainers:g,measuringScheduled:null!=s}}(J,{dragging:C,dependencies:[T.x,T.y],config:Y.droppable}),ne=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return O(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(S,j),re=e.useMemo(()=>U?W(U):null,[U]),se=function(){const e=!1===(null==B?void 0:B.autoScrollEnabled),t="object"==typeof u?!1===u.enabled:!1===u,n=C&&!e&&!t;if("object"==typeof u)return{...u,enabled:n};return{enabled:n}}(),oe=function(e,t){return mt(e,t)}(ne,Y.draggable.measure);!function(t){let{activeNode:n,measure:r,initialRect:i,config:a=!0}=t;const s=e.useRef(!1),{x:o,y:l}="boolean"==typeof a?{x:a,y:a}:a;H(()=>{if(!o&&!l||!n)return void(s.current=!1);if(s.current||!i)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=xe(r(e),i);if(o||(t.x=0),l||(t.y=0),s.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=Re(e);n&&n.scrollBy({top:t.y,left:t.x})}},[n,o,l,i,r])}({activeNode:null!=j?S.get(j):null,config:se.layoutShiftCompensation,initialRect:oe,measure:Y.draggable.measure});const le=ft(ne,Y.draggable.measure,oe),ue=ft(ne?ne.parentElement:null),de=e.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:_,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),he=D.getNodeFor(null==(r=de.current.over)?void 0:r.id),me=function(t){let{measure:n}=t;const[r,i]=e.useState(null),a=gt({callback:e.useCallback(e=>{for(const{target:t}of e)if(I(t)){i(e=>{const r=n(t);return e?{...e,width:r.width,height:r.height}:r});break}},[n])}),s=e.useCallback(e=>{const t=Nt(e);null==a||a.disconnect(),t&&(null==a||a.observe(t)),i(t?n(t):null)},[n,a]),[o,l]=q(s);return e.useMemo(()=>({nodeRef:o,rect:r,setRef:l}),[r,o,l])}({measure:Y.dragOverlay.measure}),ge=null!=(a=me.nodeRef.current)?a:ne,fe=C?null!=(s=me.rect)?s:le:null,ve=Boolean(me.nodeRef.current&&me.rect),be=xe(Ne=ve?null:le,mt(Ne));var Ne;const we=yt(ge?M(ge):null),Ce=function(t){const n=e.useRef(t),r=O(e=>t?e&&e!==vt&&t&&n.current&&t.parentNode===n.current.parentNode?e:Te(t):vt,[t]);return e.useEffect(()=>{n.current=t},[t]),r}(C?null!=he?he:ne:null),Se=function(t,n){void 0===n&&(n=je);const[r]=t,i=yt(r?M(r):null),[a,s]=e.useState(xt);function o(){s(()=>t.length?t.map(e=>Le(e)?i:new Ue(n(e),e)):xt)}const l=gt({callback:o});return H(()=>{null==l||l.disconnect(),o(),t.forEach(e=>null==l?void 0:l.observe(e))},[t]),a}(Ce),ke=It(p,{transform:{x:T.x-be.x,y:T.y-be.y,scaleX:1,scaleY:1},activatorEvent:U,active:L,activeNodeRect:le,containerNodeRect:ue,draggingNodeRect:fe,over:de.current.over,overlayNodeRect:me.rect,scrollableAncestors:Ce,scrollableAncestorRects:Se,windowRect:we}),Me=re?K(re,T):null,Ie=function(t){const[n,r]=e.useState(null),i=e.useRef(t),a=e.useCallback(e=>{const t=De(e.target);t&&r(e=>e?(e.set(t,Ee(t)),new Map(e)):null)},[]);return e.useEffect(()=>{const e=i.current;if(t!==e){n(e);const s=t.map(e=>{const t=De(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,Ee(t)]):null}).filter(e=>null!=e);r(s.length?new Map(s):null),i.current=t}return()=>{n(t),n(e)};function n(e){e.forEach(e=>{const t=De(e);null==t||t.removeEventListener("scroll",a)})}},[a,t]),e.useMemo(()=>t.length?n?Array.from(n.values()).reduce((e,t)=>K(e,t),ce):Oe(t):ce,[t,n])}(Ce),Pe=bt(Ie),He=bt(Ie,[le]),Be=K(ke,Pe),ze=fe?Ae(fe,ke):null,qe=L&&ze?m({active:L,collisionRect:ze,droppableRects:_,droppableContainers:J,pointerCoordinates:Me}):null,Xe=pe(qe,"id"),[Ge,Fe]=e.useState(null),Ke=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(ve?ke:K(ke,He),null!=(o=null==Ge?void 0:Ge.rect)?o:null,le),Qe=e.useRef(null),Ve=e.useCallback((e,n)=>{let{sensor:r,options:i}=n;if(null==P.current)return;const a=S.get(P.current);if(!a)return;const s=e.nativeEvent,o=new r({active:P.current,activeNode:a,event:s,options:i,context:de,onAbort(e){if(!S.get(e))return;const{onDragAbort:t}=Q.current,n={id:e};null==t||t(n),x({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!S.get(e))return;const{onDragPending:i}=Q.current,a={id:e,constraint:t,initialCoordinates:n,offset:r};null==i||i(a),x({type:"onDragPending",event:a})},onStart(e){const n=P.current;if(null==n)return;const r=S.get(n);if(!r)return;const{onDragStart:i}=Q.current,a={activatorEvent:s,active:{id:n,data:r.data,rect:E}};t.unstable_batchedUpdates(()=>{null==i||i(a),w(Pt.Initializing),y({type:ae.DragStart,initialCoordinates:e,active:n}),x({type:"onDragStart",event:a}),X(Qe.current),F(s)})},onMove(e){y({type:ae.DragMove,coordinates:e})},onEnd:l(ae.DragEnd),onCancel:l(ae.DragCancel)});function l(e){return async function(){const{active:n,collisions:r,over:i,scrollAdjustedTranslate:a}=de.current;let o=null;if(n&&a){const{cancelDrop:t}=Q.current;if(o={activatorEvent:s,active:n,collisions:r,delta:a,over:i},e===ae.DragEnd&&"function"==typeof t){await Promise.resolve(t(o))&&(e=ae.DragCancel)}}P.current=null,t.unstable_batchedUpdates(()=>{y({type:e}),w(Pt.Uninitialized),Fe(null),X(null),F(null),Qe.current=null;const t=e===ae.DragEnd?"onDragEnd":"onDragCancel";if(o){const e=Q.current[t];null==e||e(o),x({type:t,event:o})}})}}Qe.current=o},[S]),We=e.useCallback((e,t)=>(n,r)=>{const i=n.nativeEvent,a=S.get(r);if(null!==P.current||!a||i.dndKit||i.defaultPrevented)return;const s={active:a};!0===e(n,t.options,s)&&(i.dndKit={capturedBy:t.sensor},P.current=r,Ve(n,t))},[S,Ve]),Je=function(t,n){return e.useMemo(()=>t.reduce((e,t)=>{const{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:n(e.handler,t)}))]},[]),[t,n])}(h,We);!function(t){e.useEffect(()=>{if(!R)return;const e=t.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const t of e)null==t||t()}},t.map(e=>{let{sensor:t}=e;return t}))}(h),H(()=>{le&&A===Pt.Initializing&&w(Pt.Initialized)},[le,A]),e.useEffect(()=>{const{onDragMove:e}=Q.current,{active:n,activatorEvent:r,collisions:i,over:a}=de.current;if(!n||!r)return;const s={active:n,activatorEvent:r,collisions:i,delta:{x:Be.x,y:Be.y},over:a};t.unstable_batchedUpdates(()=>{null==e||e(s),x({type:"onDragMove",event:s})})},[Be.x,Be.y]),e.useEffect(()=>{const{active:e,activatorEvent:n,collisions:r,droppableContainers:i,scrollAdjustedTranslate:a}=de.current;if(!e||null==P.current||!n||!a)return;const{onDragOver:s}=Q.current,o=i.get(Xe),l=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,c={active:e,activatorEvent:n,collisions:r,delta:{x:a.x,y:a.y},over:l};t.unstable_batchedUpdates(()=>{Fe(l),null==s||s(c),x({type:"onDragOver",event:c})})},[Xe]),H(()=>{de.current={activatorEvent:U,active:L,activeNode:ne,collisionRect:ze,collisions:qe,droppableRects:_,draggableNodes:S,draggingNode:ge,draggingNodeRect:fe,droppableContainers:D,over:Ge,scrollableAncestors:Ce,scrollAdjustedTranslate:Be},E.current={initial:fe,translated:ze}},[L,ne,qe,ze,S,ge,fe,_,D,Ge,Ce,Be]),lt({...se,delta:T,draggingRect:ze,pointerCoordinates:Me,scrollableAncestors:Ce,scrollableAncestorRects:Se});const Ye=e.useMemo(()=>({active:L,activeNode:ne,activeNodeRect:le,activatorEvent:U,collisions:qe,containerNodeRect:ue,dragOverlay:me,draggableNodes:S,droppableContainers:D,droppableRects:_,over:Ge,measureDroppableContainers:$,scrollableAncestors:Ce,scrollableAncestorRects:Se,measuringConfiguration:Y,measuringScheduled:ee,windowRect:we}),[L,ne,le,U,qe,ue,me,S,D,_,Ge,$,Ce,Se,Y,ee,we]),Ze=e.useMemo(()=>({activatorEvent:U,activators:Je,active:L,activeNodeRect:le,ariaDescribedById:{draggable:V},dispatch:y,draggableNodes:S,over:Ge,measureDroppableContainers:$}),[U,Je,L,le,y,V,S,Ge,$]);return i.createElement(te.Provider,{value:N},i.createElement(Rt.Provider,{value:Ze},i.createElement(Dt.Provider,{value:Ye},i.createElement(Lt.Provider,{value:Ke},d)),i.createElement(Et,{disabled:!1===(null==c?void 0:c.restoreFocus)})),i.createElement(ie,{...c,hiddenTextDescribedById:V}))}),Bt=e.createContext(null),zt="button";function Ot(t){let{id:n,data:r,disabled:i=!1,attributes:a}=t;const s=G("Draggable"),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:m}=e.useContext(Rt),{role:g=zt,roleDescription:p="draggable",tabIndex:f=0}=null!=a?a:{},v=(null==c?void 0:c.id)===n,b=e.useContext(v?Lt:Bt),[y,x]=q(),[N,A]=q(),w=function(t,n){return e.useMemo(()=>t.reduce((e,t)=>{let{eventName:r,handler:i}=t;return e[r]=e=>{i(e,n)},e},{}),[t,n])}(o,n),C=z(r);H(()=>(h.set(n,{id:n,key:s,node:y,activatorNode:N,data:C}),()=>{const e=h.get(n);e&&e.key===s&&h.delete(n)}),[h,n]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:e.useMemo(()=>({role:g,tabIndex:f,"aria-disabled":i,"aria-pressed":!(!v||g!==zt)||void 0,"aria-roledescription":p,"aria-describedby":d.draggable}),[i,g,f,v,p,d.draggable]),isDragging:v,listeners:i?void 0:w,node:y,over:m,setNodeRef:x,setActivatorNodeRef:A,transform:b}}function qt(){return e.useContext(Dt)}const Xt={timeout:25};function Ut(t){let{animation:n,children:r}=t;const[a,s]=e.useState(null),[o,l]=e.useState(null),c=X(r);return r||a||!c||s(c),H(()=>{if(!o)return;const e=null==a?void 0:a.key,t=null==a?void 0:a.props.id;null!=e&&null!=t?Promise.resolve(n(t,o)).then(()=>{s(null)}):s(null)},[n,a,o]),i.createElement(i.Fragment,null,r,a?e.cloneElement(a,{ref:l}):null)}const Gt={x:0,y:0,scaleX:1,scaleY:1};function Ft(e){let{children:t}=e;return i.createElement(Rt.Provider,{value:Tt},i.createElement(Lt.Provider,{value:Gt},t))}const Kt={position:"fixed",touchAction:"none"},Qt=e=>V(e)?"transform 250ms ease":void 0,Vt=e.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:a,children:s,className:o,rect:l,style:c,transform:u,transition:d=Qt}=e;if(!l)return null;const h=a?u:{...u,scaleX:1,scaleY:1},m={...Kt,width:l.width,height:l.height,top:l.top,left:l.left,transform:J.Transform.toString(h),transformOrigin:a&&r?de(r,l):void 0,transition:"function"==typeof d?d(r):d,...c};return i.createElement(n,{className:o,style:m,ref:t},s)}),Wt=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:a,className:s}=e;if(null!=a&&a.active)for(const[e,o]of Object.entries(a.active))void 0!==o&&(i[e]=n.node.style.getPropertyValue(e),n.node.style.setProperty(e,o));if(null!=a&&a.dragOverlay)for(const[e,o]of Object.entries(a.dragOverlay))void 0!==o&&r.node.style.setProperty(e,o);return null!=s&&s.active&&n.node.classList.add(s.active),null!=s&&s.dragOverlay&&r.node.classList.add(s.dragOverlay),function(){for(const[e,t]of Object.entries(i))n.node.style.setProperty(e,t);null!=s&&s.active&&n.node.classList.remove(s.active)}},Jt={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:J.Transform.toString(t)},{transform:J.Transform.toString(n)}]},sideEffects:Wt({styles:{active:{opacity:"0"}}})};function Yt(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return B((e,a)=>{if(null===t)return;const s=n.get(e);if(!s)return;const o=s.node.current;if(!o)return;const l=Nt(a);if(!l)return;const{transform:c}=M(a).getComputedStyle(a),u=we(c);if(!u)return;const d="function"==typeof t?t:function(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={...Jt,...e};return e=>{let{active:a,dragOverlay:s,transform:o,...l}=e;if(!t)return;const c={x:s.rect.left-a.rect.left,y:s.rect.top-a.rect.top},u={scaleX:1!==o.scaleX?a.rect.width*o.scaleX/s.rect.width:1,scaleY:1!==o.scaleY?a.rect.height*o.scaleY/s.rect.height:1},d={x:o.x-c.x,y:o.y-c.y,...u},h=i({...l,active:a,dragOverlay:s,transform:{initial:o,final:d}}),[m]=h,g=h[h.length-1];if(JSON.stringify(m)===JSON.stringify(g))return;const p=null==r?void 0:r({active:a,dragOverlay:s,...l}),f=s.node.animate(h,{duration:t,easing:n,fill:"forwards"});return new Promise(e=>{f.onfinish=()=>{null==p||p(),e()}})}}(t);return qe(o,i.draggable.measure),d({active:{id:e,data:s.data,node:o,rect:i.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:a,rect:i.dragOverlay.measure(l)},droppableContainers:r,measuringConfiguration:i,transform:u})})}let Zt=0;function _t(t){return e.useMemo(()=>{if(null!=t)return Zt++,Zt},[t])}const $t=i.memo(t=>{let{adjustScale:n=!1,children:r,dropAnimation:a,style:s,transition:o,modifiers:l,wrapperElement:c="div",className:u,zIndex:d=999}=t;const{activatorEvent:h,active:m,activeNodeRect:g,containerNodeRect:p,draggableNodes:f,droppableContainers:v,dragOverlay:b,over:y,measuringConfiguration:x,scrollableAncestors:N,scrollableAncestorRects:A,windowRect:w}=qt(),C=e.useContext(Lt),j=_t(null==m?void 0:m.id),S=It(l,{activatorEvent:h,active:m,activeNodeRect:g,containerNodeRect:p,draggingNodeRect:b.rect,over:y,overlayNodeRect:b.rect,scrollableAncestors:N,scrollableAncestorRects:A,transform:C,windowRect:w}),T=mt(g),R=Yt({config:a,draggableNodes:f,droppableContainers:v,measuringConfiguration:x}),D=T?b.setRef:void 0;return i.createElement(Ft,null,i.createElement(Ut,{animation:R},m&&j?i.createElement(Vt,{key:j,id:m.id,ref:D,as:c,activatorEvent:h,adjustScale:n,className:u,transition:o,rect:T,style:{zIndex:d,...s},transform:S},r):null))});function en(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function tn(e,t){return e.reduce((e,n,r)=>{const i=t.get(n);return i&&(e[r]=i),e},Array(e.length))}function nn(e){return null!==e&&e>=0}const rn=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=en(t,r,n),s=t[i],o=a[i];return o&&s?{x:o.left-s.left,y:o.top-s.top,scaleX:o.width/s.width,scaleY:o.height/s.height}:null},an={scaleX:1,scaleY:1},sn=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:s}=e;const o=null!=(t=a[n])?t:r;if(!o)return null;if(i===n){const e=a[s];return e?{x:0,y:n<s?e.top+e.height-(o.top+o.height):e.top-o.top,...an}:null}const l=function(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];if(!r)return 0;if(n<t)return i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0;return a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0}(a,i,n);return i>n&&i<=s?{x:0,y:-o.height-l,...an}:i<n&&i>=s?{x:0,y:o.height+l,...an}:{x:0,y:0,...an}};const on="Sortable",ln=i.createContext({activeIndex:-1,containerId:on,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rn,disabled:{draggable:!1,droppable:!1}});function cn(t){let{children:n,id:r,items:a,strategy:s=rn,disabled:o=!1}=t;const{active:l,dragOverlay:c,droppableRects:u,over:d,measureDroppableContainers:h}=qt(),m=G(on,r),g=Boolean(null!==c.rect),p=e.useMemo(()=>a.map(e=>"object"==typeof e&&"id"in e?e.id:e),[a]),f=null!=l,v=l?p.indexOf(l.id):-1,b=d?p.indexOf(d.id):-1,y=e.useRef(p),x=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(p,y.current),N=-1!==b&&-1===v||x,A=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(o);H(()=>{x&&f&&h(p)},[x,p,f,h]),e.useEffect(()=>{y.current=p},[p]);const w=e.useMemo(()=>({activeIndex:v,containerId:m,disabled:A,disableTransforms:N,items:p,overIndex:b,useDragOverlay:g,sortedRects:tn(p,u),strategy:s}),[v,m,A.draggable,A.droppable,N,p,b,u,g,s]);return i.createElement(ln.Provider,{value:w},n)}const un=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return en(n,r,i).indexOf(t)},dn=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:s,previousItems:o,previousContainerId:l,transition:c}=e;return!(!c||!r)&&((o===a||i!==s)&&(!!n||s!==i&&t===l))},hn={duration:200,easing:"ease"},mn="transform",gn=J.Transition.toString({property:mn,duration:0,easing:"linear"}),pn={roleDescription:"sortable"};function fn(t){let{animateLayoutChanges:n=dn,attributes:r,disabled:i,data:a,getNewIndex:s=un,id:o,strategy:l,resizeObserverConfig:c,transition:u=hn}=t;const{items:d,containerId:h,activeIndex:m,disabled:g,disableTransforms:p,sortedRects:f,overIndex:v,useDragOverlay:b,strategy:y}=e.useContext(ln),x=function(e,t){var n,r;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(i,g),N=d.indexOf(o),A=e.useMemo(()=>({sortable:{containerId:h,index:N,items:d},...a}),[h,a,N,d]),w=e.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:C,node:j,isOver:S,setNodeRef:T}=function(t){let{data:n,disabled:r=!1,id:i,resizeObserverConfig:a}=t;const s=G("Droppable"),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=e.useContext(Rt),d=e.useRef({disabled:r}),h=e.useRef(!1),m=e.useRef(null),g=e.useRef(null),{disabled:p,updateMeasurementsFor:f,timeout:v}={...Xt,...a},b=z(null!=f?f:i),y=gt({callback:e.useCallback(()=>{h.current?(null!=g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),g.current=null},v)):h.current=!0},[v]),disabled:p||!o}),x=e.useCallback((e,t)=>{y&&(t&&(y.unobserve(t),h.current=!1),e&&y.observe(e))},[y]),[N,A]=q(x),w=z(n);return e.useEffect(()=>{y&&N.current&&(y.disconnect(),h.current=!1,y.observe(N.current))},[N,y]),e.useEffect(()=>(l({type:ae.RegisterDroppable,element:{id:i,key:s,disabled:r,node:N,rect:m,data:w}}),()=>l({type:ae.UnregisterDroppable,key:s,id:i})),[i]),e.useEffect(()=>{r!==d.current.disabled&&(l({type:ae.SetDroppableDisabled,id:i,key:s,disabled:r}),d.current.disabled=r)},[i,s,r,l]),{active:o,rect:m,isOver:(null==c?void 0:c.id)===i,node:N,over:c,setNodeRef:A}}({id:o,data:A,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:w,...c}}),{active:R,activatorEvent:D,activeNodeRect:k,attributes:M,setNodeRef:E,listeners:I,isDragging:L,over:P,setActivatorNodeRef:B,transform:O}=Ot({id:o,data:A,attributes:{...pn,...r},disabled:x.draggable}),X=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useMemo(()=>e=>{n.forEach(t=>t(e))},n)}(T,E),U=Boolean(R),F=U&&!p&&nn(m)&&nn(v),K=!b&&L,Q=K&&F?O:null,W=F?null!=Q?Q:(null!=l?l:y)({rects:f,activeNodeRect:k,activeIndex:m,overIndex:v,index:N}):null,Y=nn(m)&&nn(v)?s({id:o,items:d,activeIndex:m,overIndex:v}):N,Z=null==R?void 0:R.id,_=e.useRef({activeId:Z,items:d,newIndex:Y,containerId:h}),$=d!==_.current.items,ee=n({active:R,containerId:h,isDragging:L,isSorting:U,id:o,index:N,items:d,newIndex:_.current.newIndex,previousItems:_.current.items,previousContainerId:_.current.containerId,transition:u,wasDragging:null!=_.current.activeId}),te=function(t){let{disabled:n,index:r,node:i,rect:a}=t;const[s,o]=e.useState(null),l=e.useRef(r);return H(()=>{if(!n&&r!==l.current&&i.current){const e=a.current;if(e){const t=je(i.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&o(n)}}r!==l.current&&(l.current=r)},[n,r,i,a]),e.useEffect(()=>{s&&o(null)},[s]),s}({disabled:!ee,index:N,node:j,rect:C});return e.useEffect(()=>{U&&_.current.newIndex!==Y&&(_.current.newIndex=Y),h!==_.current.containerId&&(_.current.containerId=h),d!==_.current.items&&(_.current.items=d)},[U,Y,h,d]),e.useEffect(()=>{if(Z===_.current.activeId)return;if(Z&&!_.current.activeId)return void(_.current.activeId=Z);const e=setTimeout(()=>{_.current.activeId=Z},50);return()=>clearTimeout(e)},[Z]),{active:R,activeIndex:m,attributes:M,data:A,rect:C,index:N,newIndex:Y,items:d,isOver:S,isSorting:U,isDragging:L,listeners:I,node:j,overIndex:v,over:P,setNodeRef:X,setActivatorNodeRef:B,setDroppableNodeRef:T,setDraggableNodeRef:E,transform:null!=te?te:W,transition:function(){if(te||$&&_.current.newIndex===N)return gn;if(K&&!V(D)||!u)return;if(U||ee)return J.Transition.toString({...u,property:mn});return}()}}function vn(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const bn=[Qe.Down,Qe.Right,Qe.Up,Qe.Left],yn=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:s,scrollableAncestors:o}}=t;if(bn.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];a.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;const a=i.get(n.id);if(a)switch(e.code){case Qe.Down:r.top<a.top&&t.push(n);break;case Qe.Up:r.top>a.top&&t.push(n);break;case Qe.Left:r.left>a.left&&t.push(n);break;case Qe.Right:r.left<a.left&&t.push(n)}});const l=(e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=ge(t),a=[];for(const s of r){const{id:e}=s,t=n.get(e);if(t){const n=ge(t),r=i.reduce((e,t,r)=>e+ue(n[r],t),0),o=Number((r/4).toFixed(4));a.push({id:e,data:{droppableContainer:s,value:o}})}}return a.sort(he)})({collisionRect:r,droppableRects:i,droppableContainers:t});let c=pe(l,"id");if(c===(null==s?void 0:s.id)&&l.length>1&&(c=l[1].id),null!=c){const e=a.get(n.id),t=a.get(c),s=t?i.get(t.id):null,l=null==t?void 0:t.node.current;if(l&&s&&e&&t){const n=Te(l).some((e,t)=>o[t]!==e),i=xn(e,t),a=function(e,t){if(!vn(e)||!vn(t))return!1;if(!xn(e,t))return!1;return e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=n||!i?{x:0,y:0}:{x:a?r.width-s.width:0,y:a?r.height-s.height:0},u={x:s.left,y:s.top};return c.x&&c.y?u:Q(u,c)}}}};function xn(e,t){return!(!vn(e)||!vn(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Nn({id:e,answer:t,isSubmitted:n}){const{attributes:r,listeners:i,setNodeRef:a,transform:s,transition:o,isDragging:l}=fn({id:e}),c={transform:J.Transform.toString(s),transition:o,opacity:l?.5:1};return v.jsxs("div",{ref:a,style:c,...r,...i,className:"memorize-limited-pill "+(n?"submitted":""),children:[v.jsx("span",{className:"memorize-limited-answer",children:t}),!n&&v.jsx("span",{className:"memorize-limited-drag-icon",children:"⋮⋮"})]})}function An({answer:e}){return v.jsxs("div",{className:"memorize-limited-pill dragging-overlay",children:[v.jsx("span",{className:"memorize-limited-answer",children:e}),v.jsx("span",{className:"memorize-limited-drag-icon",children:"⋮⋮"})]})}function wn({id:e,answer:t,isSubmitted:n}){const{attributes:r,listeners:i,setNodeRef:a,transform:s,transition:o,isDragging:l}=fn({id:e}),c={transform:J.Transform.toString(s),transition:o,opacity:l?.5:1};return v.jsxs("div",{ref:a,style:c,...r,...i,className:"match-pairs-pill "+(n?"submitted":""),children:[v.jsx("span",{className:"match-pairs-answer",children:t}),!n&&v.jsx("span",{className:"match-pairs-drag-icon",children:"⋮⋮"})]})}function Cn({answer:e}){return v.jsxs("div",{className:"match-pairs-pill dragging-overlay",children:[v.jsx("span",{className:"match-pairs-answer",children:e}),v.jsx("span",{className:"match-pairs-drag-icon",children:"⋮⋮"})]})}function jn({isOpen:t,onClose:n,teamName:r,addedPoints:i=1,totalPoints:a=0}){const[s,o]=e.useState(!1);return e.useEffect(()=>{if(!t)return;const e=setTimeout(()=>o(!0),4700),r=setTimeout(()=>{n&&n()},5e3);return()=>{clearTimeout(e),clearTimeout(r),o(!1)}},[t,n]),t?v.jsx("div",{className:"gameplay-overlay "+(t?"open":""),children:v.jsxs("div",{className:"gameplay-sheet success-sheet "+(s?"closing":""),children:[v.jsx("div",{className:"success-circle","aria-hidden":!0,children:v.jsx("img",{src:"/assets/success_icon_circle-jbLKmIPL.png",alt:"success",className:"success-check"})}),v.jsx("div",{className:"success-title",children:"Đúng rùi đó"}),v.jsxs("div",{className:"success-sub",children:["+",i," cho ",r||"ĐỘI 1"]}),v.jsx("div",{className:"success-total-label",children:"Tổng"}),v.jsx("div",{className:"success-total",children:String(a).padStart(2,"0")})]})}):null}function Sn({isOpen:t,onClose:n,teamName:r,totalPoints:i=0}){const[a,s]=e.useState(!1);return e.useEffect(()=>{if(!t)return;const e=setTimeout(()=>s(!0),4700),r=setTimeout(()=>{n&&n()},5e3);return()=>{clearTimeout(e),clearTimeout(r),s(!1)}},[t,n]),t?v.jsx("div",{className:"gameplay-overlay "+(t?"open":""),children:v.jsxs("div",{className:"gameplay-sheet failed-sheet "+(a?"closing":""),children:[v.jsx("div",{className:"failed-circle","aria-hidden":!0,children:v.jsx("img",{src:"/assets/failure_circle_icon-DvcDTXYY.png",alt:"failed",className:"failed-x"})}),v.jsx("div",{className:"failed-title",children:"Sai rồi"}),v.jsxs("div",{className:"failed-sub",children:["Không cộng điểm cho ",r||"ĐỘI 1"]}),v.jsx("div",{className:"failed-total-label",children:"Tổng"}),v.jsx("div",{className:"failed-total",children:String(i).padStart(2,"0")})]})}):null}const Tn=Object.freeze(Object.defineProperty({__proto__:null,ClassifyWordsModal:function({isOpen:t,onClose:n,onResult:r,questionData:i}){const[a,s]=e.useState({category1:"",category2:"",category3:""}),[o,l]=e.useState(!1),[c,u]=e.useState(null),d=e.useRef(null),h=e.useRef({});if(e.useEffect(()=>{t&&(s({category1:"",category2:"",category3:""}),l(!1),u(null),setTimeout(()=>{d.current&&d.current.focus(),h.current.category1&&h.current.category1.focus()},0))},[t,i]),!t||!i)return null;const{title:m,prompt:g,question:p,passage:f,categories:b=[],correctAnswers:y={}}=i;function x(){if(!(a.category1.trim()&&a.category2.trim()&&a.category3.trim()))return;l(!0);const e=a.category1.trim().toLowerCase()===y.category1?.toLowerCase()&&a.category2.trim().toLowerCase()===y.category2?.toLowerCase()&&a.category3.trim().toLowerCase()===y.category3?.toLowerCase();setTimeout(()=>{r&&r(e?"success":"failure")},300)}const N=a.category1.trim()&&a.category2.trim()&&a.category3.trim();return v.jsx("div",{className:"gameplay-overlay open classify-words-root",onKeyDown:function(e){"Enter"!==e.key||o?"Escape"===e.key&&(e.preventDefault(),n&&n()):(e.preventDefault(),x())},tabIndex:-1,ref:d,"aria-modal":"true",role:"dialog",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("div",{className:"classify-words-logo-container",children:v.jsx("img",{src:S,alt:"challenge logo",className:"classify-words-logo"})}),g&&v.jsx("p",{className:"classify-words-prompt",dangerouslySetInnerHTML:{__html:g.replace(/<bold>/g,"<b>").replace(/<\/bold>/g,"</b>").replace(/\n/g,"<br>")}}),p&&v.jsx("div",{className:"classify-words-question",dangerouslySetInnerHTML:{__html:p.replace(/<bold>/g,"<b>").replace(/<\/bold>/g,"</b>").replace(/\n/g,"<br>")}}),v.jsx("div",{className:"classify-words-inputs",children:b.map((e,t)=>{const n=`category${t+1}`;return v.jsxs("div",{className:`classify-words-input-pill ${c===n?"focused":""} ${o?"submitted":""}`,children:[v.jsxs("label",{className:"classify-words-label",children:[e,":"]}),v.jsx("input",{ref:e=>h.current[n]=e,type:"text",className:"classify-words-input",placeholder:"","aria-label":`Nhập số cho ${e}`,value:a[n],onChange:e=>function(e,t){o||s(n=>({...n,[e]:t}))}(n,e.target.value),onFocus:()=>u(n),onBlur:()=>u(null),disabled:o})]},n)})}),v.jsx("div",{className:"classify-words-controls",children:v.jsx("button",{onClick:x,disabled:!N||o,className:"classify-words-confirm "+(!N||o?"disabled":""),children:"Xác nhận"})})]})})},DoTheChallengeModal:function({isOpen:t,onClose:n,onResult:r,questionData:i}){const[a,s]=e.useState(0),[o,l]=e.useState(!1),[c,u]=e.useState(!0),[d,h]=e.useState(!1),m=e.useRef(null),g=e.useRef(null);if(e.useEffect(()=>{t&&(s(0),l(!1),u(!0),h(!1),setTimeout(()=>m.current&&m.current.focus(),0))},[t,i]),!t||!i)return null;const{title:p,prompt:f,question:b,video:y}=i;function x(){0!==a&&d&&(l(!0),setTimeout(()=>{r&&r(a>0?"success":"failure",{points:a})},300))}return v.jsx("div",{className:"gameplay-overlay open do-the-challenge-root",onKeyDown:function(e){d&&("ArrowRight"===e.key?(e.preventDefault(),s(e=>Math.min(3,e+1))):"ArrowLeft"===e.key?(e.preventDefault(),s(e=>Math.max(0,e-1))):"Enter"===e.key?(e.preventDefault(),x()):"Escape"===e.key&&(e.preventDefault(),n&&n()))},tabIndex:-1,ref:m,"aria-modal":"true",role:"dialog",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("div",{className:"do-the-challenge-logo-container",children:v.jsx("img",{src:S,alt:"challenge logo",className:"do-the-challenge-logo"})}),b&&v.jsx("p",{className:"do-the-challenge-question",dangerouslySetInnerHTML:{__html:b.replace(/<bold>/g,"<b>").replace(/<\/bold>/g,"</b>").replace(/\n/g,"<br>")}}),y&&v.jsx("div",{className:"do-the-challenge-wrapper",children:v.jsx("video",{ref:g,src:y,className:"do-the-challenge-video",autoPlay:!0,onPlay:function(){u(!0)},onPause:function(){u(!1)},onEnded:function(){u(!1),h(!0)},controlsList:"nofullscreen"})}),v.jsx("p",{className:"do-the-challenge-evaluation-text",children:"Đội giám khảo hãy đánh giá phần thể hiện"}),v.jsx("div",{className:"do-the-challenge-stars",role:"radiogroup","aria-label":"Performance rating",children:[1,2,3].map(e=>v.jsx("button",{role:"radio","aria-checked":a===e,"aria-label":`${e} star rating`,onClick:()=>{return t=e,void(d&&!o&&s(t));var t},disabled:!d||o,className:`do-the-challenge-star ${a>=e?"filled":""} ${o?"submitted":""}`,children:"★"},e))}),v.jsx("div",{className:"do-the-challenge-controls",children:v.jsx("button",{onClick:x,disabled:0===a||o||!d,className:"do-the-challenge-confirm "+(0===a||o||!d?"disabled":""),children:"Xác nhận"})})]})})},EnterTextAsAnswerModal:function({isOpen:t,onClose:n,onResult:r,questionData:i}){const[a,s]=e.useState(""),[o,l]=e.useState(!1),[c,u]=e.useState(!1),d=e.useRef(null),h=e.useRef(null);if(e.useEffect(()=>{t&&(s(""),l(!1),u(!1),setTimeout(()=>{d.current&&d.current.focus(),h.current&&h.current.focus()},0))},[t,i]),!t||!i)return null;const{title:m,prompt:g,question:p,correctAnswer:f=""}=i;function b(){if(!a.trim())return;l(!0);const e=a.trim().toLowerCase()===f.toLowerCase();setTimeout(()=>{r&&r(e?"success":"failure")},300)}return v.jsx("div",{className:"gameplay-overlay open enter-text-answer-root",onKeyDown:function(e){"Enter"!==e.key||o?"Escape"===e.key&&(e.preventDefault(),n&&n()):(e.preventDefault(),b())},tabIndex:-1,ref:d,"aria-modal":"true",role:"dialog",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("div",{className:"enter-text-answer-logo-container",children:v.jsx("img",{src:S,alt:"challenge logo",className:"enter-text-answer-logo"})}),g&&v.jsx("p",{className:"enter-text-answer-prompt",dangerouslySetInnerHTML:{__html:g.replace(/<bold>/g,"<b>").replace(/<\/bold>/g,"</b>").replace(/\n/g,"<br>")}}),p&&v.jsx("div",{className:"enter-text-answer-question",dangerouslySetInnerHTML:{__html:p.replace(/<bold>/g,"<b>").replace(/<\/bold>/g,"</b>").replace(/\n/g,"<br>")}}),v.jsx("div",{className:`enter-text-answer-input-pill ${c?"focused":""} ${o?"submitted":""}`,children:v.jsx("input",{ref:h,className:"enter-text-answer-input",type:"text",placeholder:"Nhập câu trả lời...","aria-label":"Nhập câu trả lời",value:a,onChange:e=>s(e.target.value),onFocus:()=>u(!0),onBlur:()=>u(!1),disabled:o})}),v.jsx("div",{className:"enter-text-answer-controls",children:v.jsx("button",{onClick:b,disabled:!a.trim()||o,className:"enter-text-answer-confirm "+(!a.trim()||o?"disabled":""),children:"Xác nhận"})})]})})},FailedModal:Sn,ListenToSoundPickRightAnswerModal:function({isOpen:t,onClose:n,onResult:r,questionData:i}){const[a,s]=e.useState(null),[o,l]=e.useState(!1),[c,u]=e.useState(!1),[d,h]=e.useState(!1),m=e.useRef(null);if(e.useEffect(()=>{t&&(s(null),l(!1),u(!1),h(!1),setTimeout(()=>m.current&&m.current.focus(),0))},[t,i]),!t||!i)return null;const{title:g,prompt:p,question:f,audio:b,choices:y=[],correctIndex:x}=i;function N(){if(null===a||!d)return;const e=a===x;l(!0),setTimeout(()=>r&&r(e?"success":"failure"),300)}return v.jsx("div",{className:"gameplay-overlay open listen-sound-choose-root",onKeyDown:function(e){y.length&&d&&("ArrowDown"===e.key?(e.preventDefault(),s(e=>null===e?0:Math.min(y.length-1,e+1))):"ArrowUp"===e.key?(e.preventDefault(),s(e=>null===e?y.length-1:Math.max(0,e-1))):"Enter"===e.key?(e.preventDefault(),N()):"Escape"===e.key&&(e.preventDefault(),n&&n()))},tabIndex:-1,ref:m,"aria-modal":"true",role:"dialog",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("div",{className:"listen-sound-choose-logo-container",children:v.jsx("img",{src:S,alt:"challenge logo",className:"listen-sound-choose-logo"})}),b&&v.jsx("div",{className:"listen-sound-choose-wrapper",children:v.jsx(T,{src:b,onPlay:function(){u(!0)},onPause:function(){u(!1)},onEnded:function(){u(!1),h(!0)}})}),f&&v.jsx("p",{className:"listen-sound-choose-question",dangerouslySetInnerHTML:{__html:f.replace(/<bold>/g,"<b>").replace(/<\/bold>/g,"</b>").replace(/\n/g,"<br>")}}),v.jsx("div",{role:"list","aria-label":"answer choices",className:"listen-sound-choose-choices",children:y.map((e,t)=>{const n=a===t,r=o&&t===x,i=o&&n&&a!==x,l=["listen-sound-choose-choice"];return n&&!o&&l.push("selected"),r&&l.push("correct"),i&&l.push("wrong"),d||o||l.push("audio-playing"),v.jsx("button",{role:"listitem","aria-pressed":n,"aria-label":`Choice ${t+1}: ${e}`,onClick:()=>d&&!o&&s(t),className:l.join(" "),onKeyDown:e=>{"Enter"===e.key&&e.stopPropagation()},disabled:!d||o,children:e},t)})}),v.jsx("div",{className:"listen-sound-choose-controls",children:v.jsx("button",{onClick:N,disabled:null===a||o||!d,className:"listen-sound-choose-confirm "+(null===a||o||!d?"disabled":""),children:"Xác nhận"})})]})})},MatchPairsModal:function({isOpen:t,onClose:n,onResult:r,questionData:i}){const[a,s]=e.useState([]),[o,l]=e.useState(!1),[c,u]=e.useState(null),d=le(oe(nt,{activationConstraint:{distance:8}}),oe(Ze,{coordinateGetter:yn}));if(e.useEffect(()=>{if(t&&i){if(!i.pairs||!Array.isArray(i.pairs))return;const e=[...i.pairs.map((e,t)=>({id:`pair_${i.id}_${t}`,answer:e.answer,originalIndex:t}))].sort(()=>Math.random()-.5);s(e),l(!1),u(null)}},[t,i]),!t||!i||!a.length)return null;const{prompt:h,question:m,leftItems:g=[]}=i,p=c?a.find(e=>e.id===c):null;return v.jsx("div",{className:"gameplay-overlay open match-pairs-root","aria-modal":"true",role:"dialog",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("div",{className:"match-pairs-logo-container",children:v.jsx("img",{src:S,alt:"challenge logo",className:"match-pairs-logo"})}),h&&v.jsx("p",{className:"match-pairs-prompt",dangerouslySetInnerHTML:{__html:h.replace(/<bold>/g,"<b>").replace(/<\/bold>/g,"</b>").replace(/\n/g,"<br>")}}),m&&v.jsx("div",{className:"match-pairs-question",dangerouslySetInnerHTML:{__html:m.replace(/<bold>/g,"<b>").replace(/<\/bold>/g,"</b>").replace(/\n/g,"<br>")}}),v.jsxs("div",{className:"match-pairs-grid-container",children:[v.jsx("div",{className:"match-pairs-images-column",children:g.map((e,t)=>v.jsx("div",{className:"match-pairs-image-item",children:v.jsx("img",{src:e.image,alt:e.label,className:"match-pairs-image"})},`image-${t}`))}),v.jsx("div",{className:"match-pairs-answers-column",children:v.jsxs(Ht,{sensors:d,collisionDetection:ve,onDragStart:e=>{o||u(e.active.id)},onDragEnd:e=>{const{active:t,over:n}=e;u(null),n&&!o&&t.id!==n.id&&s(e=>{const r=e.findIndex(e=>e.id===t.id),i=e.findIndex(e=>e.id===n.id);return en(e,r,i)})},children:[v.jsx(cn,{items:a.map(e=>e.id),strategy:sn,children:a.map(e=>v.jsx(wn,{id:e.id,answer:e.answer,isSubmitted:o},e.id))}),v.jsx($t,{children:p?v.jsx(Cn,{answer:p.answer}):null})]})})]}),v.jsx("div",{className:"match-pairs-controls",children:v.jsx("button",{type:"button",onClick:()=>{const e=a.map(e=>e.answer),{correctOrder:t=[]}=i,n=JSON.stringify(e)===JSON.stringify(t)&&e.length===t.length;l(!0),setTimeout(()=>{r&&r(n?"success":"failure")},300)},disabled:o,className:"match-pairs-confirm "+(o?"disabled":""),"aria-label":"Xác nhận câu trả lời",children:"Xác nhận"})})]})})},MemorizeInLimitedTimeAndChooseAnswerModal:function({isOpen:t,onClose:n,onResult:r,questionData:i}){const[a,s]=e.useState("mystery"),[o,l]=e.useState(0),[c,u]=e.useState(null),[d,h]=e.useState([]),[m,g]=e.useState(!1),[p,f]=e.useState(null),b=e.useRef(null),y=e.useRef(null),x=le(oe(nt,{activationConstraint:{distance:8}}),oe(Ze,{coordinateGetter:yn}));if(e.useEffect(()=>{if(t&&i){if(s("mystery"),l(0),u(null),h([]),g(!1),f(null),"dragdrop"===i.type&&i.pairs){const e=[...i.pairs].sort(()=>Math.random()-.5);h(e)}setTimeout(()=>{b.current&&b.current.focus()},0)}},[t,i]),e.useEffect(()=>("memorize"===a&&o>0?y.current=setTimeout(()=>{l(e=>e-1)},1e3):"memorize"===a&&0===o&&i&&s("quiz"),()=>{y.current&&clearTimeout(y.current)}),[a,o,i]),e.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]),!t||!i)return null;const{title:N,prompt:A,question:w,memorizationTime:C,type:j,memorizationContent:T}=i,R=()=>{l(C),s("memorize")},D=()=>{if(null===c||m)return;g(!0);const e=c===i.correctIndex;setTimeout(()=>{r&&r(e?"success":"failure")},300)},k=e=>{m||f(e.active.id)},M=e=>{const{active:t,over:n}=e;f(null),n&&!m&&t.id!==n.id&&h(e=>{const r=e.findIndex(e=>e.id===t.id),i=e.findIndex(e=>e.id===n.id);return en(e,r,i)})},E=()=>{const e=d.map(e=>e.answer),{correctOrder:t=[]}=i,n=JSON.stringify(e)===JSON.stringify(t)&&e.length===t.length;g(!0),setTimeout(()=>{r&&r(n?"success":"failure")},300)},I=p?d.find(e=>e.id===p):null;return"mystery"===a?v.jsx("div",{className:"gameplay-overlay open memorize-limited-root",ref:b,tabIndex:-1,"aria-modal":"true",role:"dialog",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("div",{className:"memorize-limited-logo-container",children:v.jsx("img",{src:S,alt:"challenge logo",className:"memorize-limited-logo"})}),v.jsxs("div",{className:"memorize-limited-mystery-content",children:[v.jsx("p",{className:"memorize-limited-prompt",children:A}),v.jsx("div",{className:"memorize-limited-mystery-frame",children:v.jsx("div",{className:"memorize-limited-question-mark",children:"?"})}),v.jsx("button",{onClick:R,className:"memorize-limited-start-btn",children:"Bắt đầu"})]})]})}):"memorize"===a?v.jsx("div",{className:"gameplay-overlay open memorize-limited-root",ref:b,tabIndex:-1,"aria-modal":"true",role:"dialog",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("div",{className:"memorize-limited-logo-container",children:v.jsx("img",{src:S,alt:"challenge logo",className:"memorize-limited-logo"})}),v.jsx("div",{className:"memorize-limited-timer",children:v.jsx("div",{className:"memorize-limited-timer-circle",children:v.jsx("span",{className:"memorize-limited-timer-number",children:o})})}),v.jsx("div",{className:"memorize-limited-content",children:"quiz"===j?v.jsxs("div",{className:"memorize-limited-quiz-content",children:[v.jsx("img",{src:T.image,alt:"Food items to memorize",className:"memorize-limited-content-image"}),v.jsx("div",{className:"memorize-limited-display-name",children:T.displayName})]}):v.jsx("div",{className:"memorize-limited-dragdrop-content",children:T.items&&T.items[0]&&v.jsxs("div",{className:"memorize-limited-main-person",children:[v.jsx("img",{src:T.items[0].image,alt:T.items[0].name,className:"memorize-limited-main-person-image"}),v.jsx("div",{className:"memorize-limited-main-person-name",children:T.items[0].name})]})})})]})}):"quiz"===a?"quiz"===j?v.jsx("div",{className:"gameplay-overlay open memorize-limited-root",ref:b,tabIndex:-1,"aria-modal":"true",role:"dialog",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("div",{className:"memorize-limited-logo-container",children:v.jsx("img",{src:S,alt:"challenge logo",className:"memorize-limited-logo"})}),v.jsx("p",{className:"memorize-limited-question",children:w}),v.jsx("div",{className:"memorize-limited-choices",children:i.choices.map((e,t)=>v.jsx("button",{onClick:()=>{return e=t,void(m||u(e));var e},className:`memorize-limited-choice ${c===t?"selected":""} ${m?"submitted":""}`,disabled:m,children:e},t))}),v.jsx("div",{className:"memorize-limited-controls",children:v.jsx("button",{onClick:D,disabled:null===c||m,className:"memorize-limited-confirm "+(null===c||m?"disabled":""),children:"Xác nhận"})})]})}):v.jsx("div",{className:"gameplay-overlay open memorize-limited-root",ref:b,tabIndex:-1,"aria-modal":"true",role:"dialog",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("div",{className:"memorize-limited-logo-container",children:v.jsx("img",{src:S,alt:"challenge logo",className:"memorize-limited-logo"})}),v.jsx("p",{className:"memorize-limited-question",children:w}),v.jsxs("div",{className:"memorize-limited-grid-container",children:[v.jsx("div",{className:"memorize-limited-images-column",children:i.leftItems.map((e,t)=>v.jsx("div",{className:"memorize-limited-image-item",children:v.jsx("img",{src:e.image,alt:e.label,className:"memorize-limited-image"})},`image-${t}`))}),v.jsx("div",{className:"memorize-limited-answers-column",children:v.jsxs(Ht,{sensors:x,collisionDetection:ve,onDragStart:k,onDragEnd:M,children:[v.jsx(cn,{items:d.map(e=>e.id),strategy:sn,children:d.map(e=>v.jsx(Nn,{id:e.id,answer:e.answer,isSubmitted:m},e.id))}),v.jsx($t,{children:I?v.jsx(An,{answer:I.answer}):null})]})})]}),v.jsx("div",{className:"memorize-limited-controls",children:v.jsx("button",{onClick:E,disabled:m,className:"memorize-limited-confirm "+(m?"disabled":""),children:"Xác nhận"})})]})}):null},PickRightAnswerWithPicturesModal:function({isOpen:e,onClose:t,onResult:n}){return e?v.jsx("div",{className:"gameplay-overlay open",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("h2",{className:"gameplay-title",children:"Pick Right Answer With Pictures (placeholder)"}),v.jsx("p",{style:{textAlign:"center"},children:"Placeholder picture choices."}),v.jsx("button",{onClick:()=>n&&n("success"),className:"gameplay-accept",children:"Mark Success"}),v.jsx("button",{onClick:()=>n&&n("failure"),className:"gameplay-skip",children:"Mark Failure"}),v.jsx("button",{onClick:t,style:{marginTop:8},children:"Close"})]})}):null},ReadAndChooseAnswerWithImageModal:function({isOpen:t,onClose:n,onResult:r,questionData:i}){const[a,s]=e.useState(null),[o,l]=e.useState(!1),c=e.useRef(null);if(e.useEffect(()=>{t&&(s(null),l(!1),setTimeout(()=>c.current&&c.current.focus(),0))},[t,i]),!t||!i)return null;const{title:u,prompt:d,question:h,image:m,choices:g=[],correctIndex:p}=i;function f(){if(null===a)return;const e=a===p;l(!0),setTimeout(()=>r&&r(e?"success":"failure"),300)}return v.jsx("div",{className:"gameplay-overlay open read-choose-image-root",onKeyDown:function(e){g.length&&("ArrowDown"===e.key?(e.preventDefault(),s(e=>null===e?0:Math.min(g.length-1,e+1))):"ArrowUp"===e.key?(e.preventDefault(),s(e=>null===e?g.length-1:Math.max(0,e-1))):"Enter"===e.key?(e.preventDefault(),f()):"Escape"===e.key&&(e.preventDefault(),n&&n()))},tabIndex:-1,ref:c,"aria-modal":"true",role:"dialog",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("div",{className:"read-choose-image-logo-container",children:v.jsx("img",{src:S,alt:"challenge logo",className:"read-choose-image-logo"})}),m&&v.jsx("div",{className:"read-choose-image-wrapper",children:v.jsx("img",{src:m,alt:"question image",className:"read-choose-image"})}),h&&v.jsx("p",{className:"read-choose-question",dangerouslySetInnerHTML:{__html:h.replace(/<bold>/g,"<b>").replace(/<\/bold>/g,"</b>").replace(/\n/g,"<br>")}}),v.jsx("div",{role:"list","aria-label":"answer choices",className:"read-choose-choices",children:g.map((e,t)=>{const n=a===t,r=o&&t===p,i=o&&n&&a!==p,l=["read-choose-choice"];return n&&!o&&l.push("selected"),r&&l.push("correct"),i&&l.push("wrong"),v.jsx("button",{role:"listitem","aria-pressed":n,"aria-label":`Choice ${t+1}: ${e}`,onClick:()=>!o&&s(t),className:l.join(" "),onKeyDown:e=>{"Enter"===e.key&&e.stopPropagation()},disabled:o,children:e},t)})}),v.jsx("div",{className:"read-choose-controls",children:v.jsx("button",{onClick:f,disabled:null===a||o,className:"read-choose-confirm "+(null===a||o?"disabled":""),children:"Xác nhận"})})]})})},ReadAndChooseModal:function({isOpen:t,onClose:n,onResult:r,questionData:i}){const[a,s]=e.useState(null),[o,l]=e.useState(!1),c=e.useRef(null);if(e.useEffect(()=>{t&&(s(null),l(!1),setTimeout(()=>c.current&&c.current.focus(),0))},[t,i]),!t||!i)return null;const{title:u,prompt:d,question:h,choices:m=[],correctIndex:g}=i;function p(){if(null===a)return;const e=a===g;l(!0),setTimeout(()=>r&&r(e?"success":"failure"),300)}return v.jsx("div",{className:"gameplay-overlay open read-choose-root",onKeyDown:function(e){m.length&&("ArrowDown"===e.key?(e.preventDefault(),s(e=>null===e?0:Math.min(m.length-1,e+1))):"ArrowUp"===e.key?(e.preventDefault(),s(e=>null===e?m.length-1:Math.max(0,e-1))):"Enter"===e.key?(e.preventDefault(),p()):"Escape"===e.key&&(e.preventDefault(),n&&n()))},tabIndex:-1,ref:c,"aria-modal":"true",role:"dialog",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("div",{style:{textAlign:"center",marginBottom:8},children:v.jsx("img",{src:S,alt:"challenge logo",className:"read-choose-logo"})}),d&&(/<[a-z][\s\S]*>/i.test(d)?v.jsx("p",{className:"read-choose-prompt",dangerouslySetInnerHTML:{__html:d}}):v.jsx("p",{className:"read-choose-prompt",children:d})),h&&v.jsx("p",{className:"read-choose-question",dangerouslySetInnerHTML:{__html:h.replace(/<bold>/g,"<b>").replace(/<\/bold>/g,"</b>").replace(/\n/g,"<br>")}}),v.jsx("div",{role:"list","aria-label":"answer choices",className:"read-choose-choices",children:m.map((e,t)=>{const n=a===t,r=o&&t===g,i=o&&n&&a!==g,l=["read-choose-choice"];return n&&!o&&l.push("selected"),r&&l.push("correct"),i&&l.push("wrong"),v.jsx("button",{role:"listitem","aria-pressed":n,"aria-label":`Choice ${t+1}: ${e}`,onClick:()=>!o&&s(t),className:l.join(" "),onKeyDown:e=>{"Enter"===e.key&&e.stopPropagation()},disabled:o,children:e},t)})}),v.jsx("div",{className:"read-choose-controls",children:v.jsx("button",{onClick:p,disabled:null===a||o,className:"read-choose-confirm "+(null===a||o?"disabled":""),children:"Xác nhận"})})]})})},SuccessModal:jn,TypeInAnswerModal:function({isOpen:e,onClose:t,onResult:n}){return e?v.jsx("div",{className:"gameplay-overlay open",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("h2",{className:"gameplay-title",children:"Type In Answer (placeholder)"}),v.jsx("p",{style:{textAlign:"center"},children:"Placeholder text input question."}),v.jsx("button",{onClick:()=>n&&n("success"),className:"gameplay-accept",children:"Mark Success"}),v.jsx("button",{onClick:()=>n&&n("failure"),className:"gameplay-skip",children:"Mark Failure"}),v.jsx("button",{onClick:t,style:{marginTop:8},children:"Close"})]})}):null},VidQuizAndFourImageAnswerModal:function({isOpen:t,onClose:n,onResult:r,questionData:i}){const[a,s]=e.useState(null),[o,l]=e.useState(!1),[c,u]=e.useState(!0),[d,h]=e.useState(!1),m=e.useRef(null),g=e.useRef(null);if(e.useEffect(()=>{t&&(s(null),l(!1),u(!0),h(!1),setTimeout(()=>m.current&&m.current.focus(),0))},[t,i]),!t||!i)return null;const{title:p,question:f,video:b,choices:y=[],correctIndex:x}=i;function N(){if(null===a||!d)return;const e=a===x;l(!0),setTimeout(()=>r&&r(e?"success":"failure"),300)}return v.jsx("div",{className:"gameplay-overlay open vid-quiz-four-image-root",onKeyDown:function(e){y.length&&d&&("ArrowDown"===e.key?(e.preventDefault(),s(e=>null===e?0:e<=1?Math.min(3,e+2):e)):"ArrowUp"===e.key?(e.preventDefault(),s(e=>null===e?0:e>=2?Math.max(0,e-2):e)):"ArrowRight"===e.key?(e.preventDefault(),s(e=>null===e?0:e%2==0?Math.min(e+1,3):e)):"ArrowLeft"===e.key?(e.preventDefault(),s(e=>null===e?0:e%2==1?e-1:e)):"Enter"===e.key?(e.preventDefault(),N()):"Escape"===e.key&&(e.preventDefault(),n&&n()))},tabIndex:-1,ref:m,"aria-modal":"true",role:"dialog",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("div",{className:"vid-quiz-four-image-logo-container",children:v.jsx("img",{src:S,alt:"challenge logo",className:"vid-quiz-four-image-logo"})}),f&&v.jsx("p",{className:"vid-quiz-four-image-question",dangerouslySetInnerHTML:{__html:f.replace(/<bold>/g,"<b>").replace(/<\/bold>/g,"</b>").replace(/\n/g,"<br>")}}),b&&v.jsx("div",{className:"vid-quiz-four-image-wrapper",children:v.jsx("video",{ref:g,src:b,className:"vid-quiz-four-image-video",autoPlay:!0,onPlay:function(){u(!0)},onPause:function(){u(!1)},onEnded:function(){u(!1),h(!0)},controlsList:"nofullscreen"})}),v.jsx("div",{role:"list","aria-label":"answer choices",className:"vid-quiz-four-image-grid",children:y.map((e,t)=>{const n=a===t,r=o&&t===x,i=o&&n&&a!==x,l=["vid-quiz-four-image-choice"];return n&&!o&&l.push("selected"),r&&l.push("correct"),i&&l.push("wrong"),d||o||l.push("video-playing"),v.jsxs("button",{role:"listitem","aria-pressed":n,"aria-label":`Choice ${t+1}: ${e.text}`,onClick:()=>d&&!o&&s(t),className:l.join(" "),onKeyDown:e=>{"Enter"===e.key&&e.stopPropagation()},disabled:!d||o,children:[v.jsx("div",{className:"vid-quiz-four-image-choice-image",children:e.image&&v.jsx("img",{src:e.image,alt:e.text,className:"vid-quiz-four-image-img"})}),v.jsx("div",{className:"vid-quiz-four-image-choice-text",children:e.text})]},t)})}),v.jsx("div",{className:"vid-quiz-four-image-controls",children:v.jsx("button",{onClick:N,disabled:null===a||o||!d,className:"vid-quiz-four-image-confirm "+(null===a||o||!d?"disabled":""),children:"Xác nhận"})})]})})},WatchVideoAndChooseRightAnswerModal:function({isOpen:t,onClose:n,onResult:r,questionData:i}){const[a,s]=e.useState(null),[o,l]=e.useState(!1),[c,u]=e.useState(!0),[d,h]=e.useState(!1),m=e.useRef(null),g=e.useRef(null);if(e.useEffect(()=>{t&&(s(null),l(!1),u(!0),h(!1),setTimeout(()=>m.current&&m.current.focus(),0))},[t,i]),!t||!i)return null;const{title:p,prompt:f,question:b,video:y,choices:x=[],correctIndex:N}=i;function A(){if(null===a||!d)return;const e=a===N;l(!0),setTimeout(()=>r&&r(e?"success":"failure"),300)}return v.jsx("div",{className:"gameplay-overlay open watch-video-choose-root",onKeyDown:function(e){x.length&&d&&("ArrowDown"===e.key?(e.preventDefault(),s(e=>null===e?0:Math.min(x.length-1,e+1))):"ArrowUp"===e.key?(e.preventDefault(),s(e=>null===e?x.length-1:Math.max(0,e-1))):"Enter"===e.key?(e.preventDefault(),A()):"Escape"===e.key&&(e.preventDefault(),n&&n()))},tabIndex:-1,ref:m,"aria-modal":"true",role:"dialog",children:v.jsxs("div",{className:"gameplay-sheet",children:[v.jsx("div",{className:"watch-video-choose-logo-container",children:v.jsx("img",{src:S,alt:"challenge logo",className:"watch-video-choose-logo"})}),y&&v.jsx("div",{className:"watch-video-choose-wrapper",children:v.jsx("video",{ref:g,src:y,className:"watch-video-choose-video",autoPlay:!0,onPlay:function(){u(!0)},onPause:function(){u(!1)},onEnded:function(){u(!1),h(!0)},controlsList:"nofullscreen"})}),b&&v.jsx("p",{className:"watch-video-choose-question",dangerouslySetInnerHTML:{__html:b.replace(/<bold>/g,"<b>").replace(/<\/bold>/g,"</b>").replace(/\n/g,"<br>")}}),v.jsx("div",{role:"list","aria-label":"answer choices",className:"watch-video-choose-choices",children:x.map((e,t)=>{const n=a===t,r=o&&t===N,i=o&&n&&a!==N,l=["watch-video-choose-choice"];return n&&!o&&l.push("selected"),r&&l.push("correct"),i&&l.push("wrong"),d||o||l.push("video-playing"),v.jsx("button",{role:"listitem","aria-pressed":n,"aria-label":`Choice ${t+1}: ${e}`,onClick:()=>d&&!o&&s(t),className:l.join(" "),onKeyDown:e=>{"Enter"===e.key&&e.stopPropagation()},disabled:!d||o,children:e},t)})}),v.jsx("div",{className:"watch-video-choose-controls",children:v.jsx("button",{onClick:A,disabled:null===a||o||!d,className:"watch-video-choose-confirm "+(null===a||o||!d?"disabled":""),children:"Xác nhận"})})]})})}},Symbol.toStringTag,{value:"Module"})),Rn={intro:["Xin chào, các bạn nhỏ ơi! Mình là Gạo, người dẫn đường trong hành trình Con Rồng Cháu Tiên!","Hai đội đã sẵn sàng chưa nào? Chuẩn bị cùng mình khám phá đất nước Việt Nam xinh đẹp nhé!"],turnStart:["Chà, đội nào đi trước vậy nhỉ","Đến lượt của đội mình rồi đó!","Xin chào đội [tên đội], các bạn đã sẵn sàng chưa?","Nào, xoay vòng quay thôi! Xem Lạc Long Quân và Âu Cơ đi được mấy bước nhé!"],challengeInput:["Ôi chao, dừng ở ô đặc biệt rồi kìa!","Giờ thì các bạn hãy nhặt một mảnh ghép tỉnh thành bất kỳ nhé!","Trên mảnh có số mấy vậy?","Nhập số đó vào điện thoại đi nào để mình bật thử thách lên cho các bạn nha!"],challengeShown:["Thử thách đã đến!","Hãy cùng nhau vượt qua thử thách này nhé!","Ai sẽ là người trả lời thử thách này nhỉ?","Bạn hãy suy nghĩ thật kỹ trước khi trả lời nha!","Cùng nhau cố gắng nào!","Cố lên, mình tin là các bạn làm được!"],success:["Tuyệt vời luôn! Các bạn giỏi quá trời luôn á!","Mình trao ngay cho các bạn mảnh ghép tỉnh thành nhé – ghép lên bản đồ nào!","Một điểm sáng chói cho tinh thần Rồng Tiên! ✨"],failure:["Ôi chao, thiếu một chút xíu nữa thôi! Nhưng không sao cả, mỗi thử thách đều là bài học mà, phải không nào?","Tiếc ghê, mình tạm giữ lại một token người Việt Nam nha. Lần sau mình sẽ giành lại thôi, cố lên nhé đội ơi!"],hopeSquare:["Ô hô! Các bạn đã đến ô Nón Lá Hy Vọng rồi đó!","Đây là cơ hội để hồi sinh một token người Việt Nam đã mất nè!","Làm tốt thử thách này nhé – biết đâu sẽ lấy lại được sức mạnh Rồng Tiên đó!"],idle:["Ê ê, ai hồi hộp như mình không đó","Các bạn ơi, bản đồ của mình đẹp lên từng chút rồi kìa!","Hôm nay Lạc Long Quân và Âu Cơ chắc sẽ tự hào lắm luôn!","Ui, nghe tiếng xoay vòng mà tim đập thình thịch luôn đó!","Ai mà vừa thông minh vừa may mắn vậy nè~","Haha, mình đoán đội này đang âm thầm chiến lược đây!","Cố lên nào các bạn ơi! Việt Nam mình rộng lớn lắm, cùng nhau đi hết bản đồ nha!","Mỗi mảnh ghép là một vùng đất, mỗi bước đi là một câu chuyện đấy!","Mình tin các bạn làm được!","Một token mất đi không sao hết, vì tinh thần Rồng Tiên thì không bao giờ mất nha!","3… 2… 1… Cùng chinh phục thử thách nào!","Này này, có ai đang lén xem bài không đó? Haha!","Ơ, sao xoay ra số nhỏ vậy, chắc vòng quay hơi ngại rồi~","Ai mà đoán được tỉnh này nè, mình sẽ tặng thêm một tràng pháo tay nhé! 👏","Các bạn có nghe thấy tiếng biển gọi hay tiếng núi gọi chưa? Vì mình nghe rồi đó!"]};function Dn(e){if(!Rn[e])return"Cố lên nào!";const t=Rn[e];return t[Math.floor(Math.random()*t.length)]}const kn=e.createContext(null);function Mn({children:t}){const[n,r]=e.useState(""),[i,a]=e.useState(!1),[s,o]=e.useState(0),[l,c]=e.useState(!1),u=e.useRef(null),d=e.useRef(null);e.useRef(null);const h=e.useCallback((e,t=null)=>{r(e),a(!0);let n=t;if(!t){const t=e.split(" ");n=6e3*Math.ceil(t.length/5)}u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{a(!1)},n)},[]),m=e.useCallback(()=>{a(!1),u.current&&clearTimeout(u.current)},[]),g=e.useCallback(()=>{l&&(d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{h(Dn("idle")),g()},3e3))},[h,l]);e.useEffect(()=>(l&&g(),()=>{d.current&&clearTimeout(d.current),u.current&&clearTimeout(u.current)}),[g,l]);const p=e.useCallback(()=>{o(e=>(e+1)%4)},[]),f=e.useCallback(()=>{c(!0)},[]);return v.jsx(kn.Provider,{value:{message:n,isVisible:i,cornerIndex:s,showMessage:h,hideMessage:m,updateCornerPosition:p,resetIdleTimer:g,startGame:f},children:t})}function En(){const t=e.useContext(kn);if(!t)throw new Error("useChatbot must be used within ChatbotProvider");return t}const In={9:{id:9,title:"Phú Thọ",question:"Dựa vào câu chuyện của mẹ Âu Cơ trên nắp hộp nhân vật, hãy cho biết mẹ đã dạy muôn dân trồng lúa nước, nuôi tằm, dệt vải, hái lượm tại vùng đất nào ở Phú Thọ?",choices:["Đền Hùng","Phù Đức","Hiền Lương","An Thái"],correctIndex:2},12:{id:12,title:"TP. Hà Nội",prompt:"<b>Đọc to bài thơ sau cho mọi người cùng nghe</b><br><br>Hà Nội có chong chóng<br>Cứ tự quay trong nhà<br>Không cần trời thổi gió<br>Không cần bạn chạy xa.<br>…<br>_____ có Hồ Gươm<br>Nước xanh như pha mực<br>Bên hồ ngọn Tháp Bút<br>Viết thơ lên trời cao.<br><br>(Trần Đăng Khoa)",question:"<b>Tên địa danh thích hợp ở chỗ trống là?</b>",choices:["Vĩnh Long","Hà Nội","Ninh Thuận","Long Khánh"],correctIndex:1},13:{id:13,title:"TP. Hải Phòng",question:'Ở Hải Phòng, hoa phượng đỏ được trồng rộng rãi. Vào những ngày hè tháng 5-6, khắp con đường, ngõ phố của đô thị này đều ngập trong sắc hoa. Vì thế Hải Phòng được biết đến với tên gọi "Thành phố ______".',choices:["Hoa anh đào","Hoa phượng đỏ","Hoa hồng","Hoa cẩm tú cầu"],correctIndex:1},14:{id:14,title:"Hưng Yên",question:"Tính từ chỉ màu sắc có trong đoạn văn về mùa nhãn ở tỉnh Hưng Yên là?",choices:["Vàng nhạt","Lộc lá","Miên man","Li ti"],correctIndex:0},16:{id:16,title:"Thanh Hóa",question:"Bảo tàng Thanh Hóa hiện thuộc phường nào?",choices:["Lam Xơn","Sơn Lam","Lam Sơn","Sam Lơn"],correctIndex:2},22:{id:22,title:"Quảng Ngãi",question:"Làng nghề Mỹ Thiện ở Quảng Ngãi làm đồ vật từ đất sét là làng nghề gì?",choices:["Đan mây","Gốm","Nước mắm","Chổi đót"],correctIndex:1},31:{id:31,title:"An Giang",question:"Hai con sông lớn nào chảy qua An Giang từ Trước ra Sau?",choices:["Sông Hồng và sông Đà","Sông Mã và sông Lam","Sông Tiền và sông Hậu","Sông Gianh và sông Nhật Lệ"],correctIndex:2},32:{id:32,title:"Vĩnh Long",question:"Trong các làng nghề sau, làng nghề nào không được nhắc đến trong thông tin trên?",choices:["Làm gạch","Dệt chiếu","Đan thảm lục bình","Làm bánh tráng"],correctIndex:3},33:{id:33,title:"TP. Cần Thơ",question:"Người dân ở chợ nổi Cái Răng thường dùng phương tiện gì để đi lại và buôn bán?",choices:["Xe đạp","Ô tô","Ghe, xuồng","Máy bay"],correctIndex:2}};const Ln={24:{id:24,title:"Đắk Lắk (Phú Yên)",prompt:"Xem các hình ảnh về tỉnh thành và nêu cảm nghĩ",question:"Đâu là các tính từ mô tả về cảnh quan ở Phú Yên (Tỉnh Đắk Lắk mới)?",image:"/assets/dak_lak_24-cyjpa-w-.png",choices:["Chật hẹp, oi ả","Hối hả, sầm uất","Hùng vĩ, bạt ngàn","Cổ kính, tấp nập"],correctIndex:2},25:{id:25,title:"Khánh Hòa (Ninh Thuận)",prompt:"Xem hình ảnh và trả lời",question:"Đây là loại trái cây gì?",image:"/assets/khanh_hoa_25-DaLf7jiB.png",choices:["Bưởi Phúc Trạch (Tỉnh Hà Tĩnh)","Mận Hà Nội","Nho xanh Ninh Thuận (Tỉnh Khánh Hòa mới)","Xoài Cát Chu (Tỉnh Đồng Tháp)"],correctIndex:2},28:{id:28,title:"Tây Ninh",prompt:"Xem hình ảnh núi Bà",question:"Ở tỉnh Tây Ninh có một ngọn núi không trắng là ngọn núi Bà___?",image:"/assets/tay_ninh_28-CYrQFzbk.png",choices:["Vàng","Cam","Đen","Đỏ"],correctIndex:2},29:{id:29,title:"TP. Hồ Chí Minh",prompt:"Về tên gọi của Thành phố Hồ Chí Minh",question:"Sau khi đất nước thống nhất, vì sao Sài Gòn được đổi tên thành Thành phố Hồ Chí Minh?",image:"/assets/ho_chi_minh_29-Cmuv-eyb.png",choices:["Chính sách thay đổi","Tưởng nhớ Bác Hồ – vị lãnh tụ kính yêu của dân tộc Việt Nam","Vì muốn tên thành phố dài hơn và khác biệt hơn","Để dễ phân biệt với các tỉnh khác ở miền Nam"],correctIndex:1}},Pn={10:{id:10,title:"Bắc Ninh (Bắc Giang)",prompt:"Xem video và trả lời câu hỏi",question:"Làng nghề truyền thống nào tại tỉnh Bắc Giang (nay là tỉnh Bắc Ninh mới) được nhắc đến trong video trên?",video:"/assets/langmaytretangtien_1-BLbM3CVG.mp4",choices:["Làng nghề mỳ Chũ Thủ Dương","Làng nghề hương ngát Linh Sơn","Làng nghề làm bún Đa Mai","Làng nghề mây tre đan Tăng Tiến"],correctIndex:3},20:{id:20,title:"TP. Huế",prompt:"Xem video và trả lời câu hỏi",question:"Đâu là tên gọi của loại hình âm nhạc nổi bật tại Huế mà các bạn vừa xem?",video:"/assets/nhanhaccungdinhhue_1-D-TiFtGe.mp4",choices:["Ca trù","Nhã nhạc cung đình Huế","Đờn ca tài tử","Hát Xẩm"],correctIndex:1},23:{id:23,title:"Gia Lai (Gia Lai - Bình Định)",prompt:"Xem video và trả lời câu hỏi",question:"Trong lễ hội trên ở Gia Lai, người dân dùng những loại nhạc cụ nào?",video:"/assets/congchiengtaynguyen_1-Cy2afp86.mp4",choices:["Cồng, chiêng","Sáo","Đàn nguyệt","Đàn bầu"],correctIndex:0}},Hn=[{id:11,title:"Quảng Ninh",question:"Hãy xem đoạn video sau và cho biết trang phục truyền thống mà người dân mặc thuộc về dân tộc nào?",video:"/assets/trangphucnguoitay-Boqwv1Au.mp4",choices:[{text:"Người Thái",image:"/assets/thai-Cba74d_t.png"},{text:"Người Nùng",image:"/assets/nung-yo1adug0.png"},{text:"Người Tày",image:"/assets/tay-D5oNDJLO.png"},{text:"Người Bana",image:"/assets/bana-CoT07kBG.png"}],correctIndex:2}],Bn={18:{id:18,title:"Hà Tĩnh",prompt:"Nghe đoạn âm thanh sau và trả lời câu hỏi",question:"Cá quả được người Hà Tĩnh gọi là?",audio:"/assets/baithotiengquang_1-BJH55phg.mp3",choices:["Cá lóc","Cá chuối","Cá tràu","Cá đô"],correctIndex:3}},zn={8:{id:8,title:"Sơn La",prompt:"Xem video và tái hiện",question:"Xem video và tái hiện điệu múa xòe Thái của truyền thống văn hóa Sơn La trong video",video:"/assets/dieumuaxoethai-DDLjh1vN.mp4"}},On={4:{id:4,title:"Lào Cai",prompt:"Đọc đoạn văn dưới đây",question:"<p><strong>_ào _ai</strong> sở hữu Sa Pa – một trong những thị trấn du lịch nổi tiếng nhất Việt Nam, duy nhất lọt top 16 thị trấn đẹp nhất thế giới do tạp chí Time Out (Anh) bình chọn.</p><p style='margin-top: 16px; font-weight: 600; color: #404040;'>Điền tên tỉnh thành khuyết chữ cái trong đoạn văn trên</p>",correctAnswer:"Lào Cai"},15:{id:15,title:"Ninh Bình",prompt:"Đọc đoạn trích sau",question:"<p>Tỉnh Ninh Bình có thành phố <strong>____</strong>, nằm ở trung tâm tỉnh và là nơi nối liền đồng bằng sông Hồng với nhiều vùng khác của miền Bắc Việt Nam.</p><p style='margin-top: 16px; font-weight: 600; color: #404040;'>Sắp xếp cụm từ sau để có tên chính xác:</p><p style='font-size: 20px; letter-spacing: 12px; font-weight: 700; color: #404040; margin-top: 12px;'>O H A Ư L</p>",correctAnswer:"HOA LƯ"},27:{id:27,title:"Đồng Nai",prompt:"Điền câu trả lời",question:"<p><strong>THỬ THÁCH</strong></p><p style='margin-top: 12px;'>Loại trái cây nào nổi tiếng của tỉnh Đồng Nai có tên gọi là hai chữ lặp lại bắt đầu bằng chữ C?</p>",correctAnswer:"Cacao"},34:{id:34,title:"Cà Mau",prompt:"Điền câu trả lời",question:"<p><strong>THỬ THÁCH</strong></p><p style='margin-top: 12px;'>Ở Cà Mau có vườn quốc gia dự trữ sinh quyển của thế giới được UNESCO công nhận với tên gọi đọc ngược là <strong>Ha Minh Ụ</strong>. Tên gọi của vườn quốc gia đó là?</p>",correctAnswer:"Ụ Minh Hạ"}};const qn={2:{id:2,title:"Cao Bằng",prompt:"Xếp loại các từ được đánh số trong đoạn văn sau",question:"<p>Đến Cao Bằng, về các bản làng, nhất là dịp mùa xuân <u>(1)</u>, ngày hội, ngày chợ phiên, du khách sẽ không khỏi <u>ngỡ ngàng</u> <u>(2)</u> và <u>thích thú</u> <u>(3)</u> khi được hòa vào <u>vườn hoa</u> <u>(4)</u> đầy màu sắc. Các <u>trang phục</u> <u>(5)</u> của người Cao Bằng phổ biến nhất là sắc chàm, <u>tự dệt</u> <u>(6)</u>, <u>tự nhuộm</u> <u>(7)</u>, nhưng đa sắc màu nhất lại là của người Dao, người Mông.</p><p style='margin-top: 16px; font-weight: 600; color: #404040;'>Nhập số vào dúng loại từ</p>",categories:["Tính từ","Danh từ","Động từ"],correctAnswers:{category1:"2, 3, 5",category2:"1, 4",category3:"6, 7"}}};const Xn={5:{id:5,title:"Thái Nguyên",prompt:"Nối hình và tên gọi của các đặc sản tỉnh Thái Nguyên",question:"",leftItems:[{image:"/assets/banh_chung-LWuAwDHv.png",label:"Bánh Chưng"},{image:"/assets/tra_moc_cau-B10W-Uvz.png",label:"Trà Móc Câu"},{image:"/assets/nem_chua-DKoWI0zi.png",label:"Nem chua"}],pairs:[{answer:"Bờ Đậu",id:1},{answer:"Thái Nguyên",id:2},{answer:"Đại Từ",id:3}],correctOrder:["Bờ Đậu","Thái Nguyên","Đại Từ"]},6:{id:6,title:"Điện Biên",prompt:"Nối tên gọi và màu sắc của các loài hoa cảnh quan tại Điện Biên",question:"Vào mùa xuân, nhiều du khách chọn đến Điện Biên để du lịch, khi thời tiết dễ chịu, không mưa, nhiều loài hoa nở rộ tô điểm cảnh quan.",leftItems:[{image:"/assets/hoa_dao-BhwNdY2k.png",label:"Hoa đào"},{image:"/assets/hoa_ban-477-znKT.png",label:"Hoa ban"},{image:"/assets/hoa_phuong-Bj2Mcl-F.png",label:"Hoa phượng"}],pairs:[{answer:"Màu hồng",id:1},{answer:"Màu trắng",id:2},{answer:"Màu đỏ",id:3}],correctOrder:["Màu hồng","Màu trắng","Màu đỏ"]}};const Un="/assets/hochiminh-CwibFi2q.png",Gn="/assets/lehongphong-B1rw7kGp.png",Fn="/assets/phanboichau-vCzgvi4_.png",Kn="/assets/phandinhphung-BXepfnNX.png",Qn="/assets/mystery_question_frame-D_YyZB8G.png",Vn={1:{id:1,title:"Tuyên Quang",type:"quiz",mysteryFrame:Qn,memorizationTime:10,prompt:"Đội thực hiện thử thách có 10 giây để nhớ tên của các món ẩm thực đặc trưng mang mạch nguồn văn hóa đồng bào các dân tộc thiểu số trên địa bàn tỉnh Hà Giang, nay thuộc tỉnh Tuyên Quang mới:",memorizationContent:{image:"/assets/ha_giang-DwnaYLHl.png",items:["Thắng cố","mèn mén","xôi ngũ sắc","thịt treo","lợn cắp nách","chè Shan tuyết cổ thụ"],displayName:"THẮNG CỐ"},question:"Đâu KHÔNG PHẢI là món ẩm thực đặc trưng của Hà Giang?",choices:["Thắng cố","Thịt treo","Lẩu gà lá é","Lợn cắp nách"],correctIndex:2},17:{id:17,title:"Nghệ An",type:"dragdrop",mysteryFrame:Qn,memorizationTime:15,prompt:'Người chơi có 15s để nhớ ảnh của các danh nhân ở vùng "địa linh nhân kiệt - Tỉnh Nghệ An" sau:',memorizationContent:{items:[{name:"Chủ tịch Hồ Chí Minh",image:Un},{name:"Phan Bội Châu",image:Fn},{name:"Phan Đình Phùng",image:Kn},{name:"Lê Hồng Phong",image:Gn}]},question:"Hãy nối ảnh và tên của các danh nhân:",leftItems:[{image:Un,label:"Hồ Chí Minh"},{image:Fn,label:"Phan Bội Châu"},{image:Kn,label:"Phan Đình Phùng"},{image:Gn,label:"Lê Hồng Phong"}],pairs:[{answer:"HỒ CHÍ MINH",id:1},{answer:"PHAN BỘI CHÂU",id:2},{answer:"PHAN ĐÌNH PHÙNG",id:3},{answer:"LÊ HỒNG PHONG",id:4}],correctOrder:["HỒ CHÍ MINH","PHAN BỘI CHÂU","PHAN ĐÌNH PHÙNG","LÊ HỒNG PHONG"]}};function Wn(){const{teamScores:t,currentTeam:n,answerQuestion:r,setCurrentTeam:i}=function(){const t=e.useContext(C);if(!t)throw new Error("useGame must be used within GameProvider");return t}(),{showMessage:a,resetIdleTimer:s,startGame:o}=En(),[l,c]=e.useState(!1),[u,d]=e.useState(!1),[h,m]=e.useState({teamNames:{},currentTeam:"team1"}),[g,p]=e.useState("team1"),[f,b]=e.useState(!1),[y,x]=e.useState(null),[N,j]=e.useState(null),[S,T]=e.useState(!1),[R,D]=e.useState(!1),[k,M]=e.useState({added:0,total:0}),E=["ReadAndChooseModal","ReadAndChooseAnswerWithImageModal","PickRightAnswerWithPicturesModal","WatchVideoAndChooseRightAnswerModal","ListenToSoundPickRightAnswerModal","MemorizeInLimitedTimeAndChooseAnswerModal","TypeInAnswerModal","DoTheChallengeModal","MatchPairsModal"];e.useEffect(()=>{a(Dn("intro"))},[]);const I=y?Tn[y]:null;return v.jsxs("div",{className:`home-page ${l?"bottom-sheet-open":""} ${u||f?"game-modal-open":""} ${S||R?"feedback-open":""}`,children:[v.jsxs("div",{className:"hero-container",children:[v.jsxs("div",{className:"background-effects",children:[v.jsx("img",{src:"/assets/radial-blur-Pd1iNSe3.png",alt:"",className:"radial-blur"}),v.jsx("div",{className:"glow-circle"})]}),v.jsxs("div",{className:"header-content",children:[v.jsx("img",{src:"/assets/logo-438b93-CA3im3g4.png",alt:"Logo",className:"logo"}),v.jsx("h1",{className:"welcome-text",children:"CHÀO MỪNG ĐẾN VỚI"})]}),(u||f)&&!S&&!R&&v.jsxs("div",{className:"turn-indicator",children:[v.jsx("div",{className:"turn-text",children:"Lượt chơi của"}),v.jsx("div",{className:"turn-team",children:h.teamNames&&h.teamNames[n]?h.teamNames[n]:"team1"===n?"ĐỘI 1":"ĐỘI 2"})]}),v.jsx("p",{className:"subtitle-text",children:"Trò chơi tương tác công nghệ"}),v.jsx("div",{className:"main-illustration",children:v.jsx("img",{src:"/assets/dragon-illustration-DRREwAiS.png",alt:"Con Rồng Châu Tiên",className:"dragon-text-image"})}),v.jsx("button",{className:"start-button",onClick:()=>{c(!0)},children:"Bắt đầu"}),v.jsx("div",{className:"bottom-decoration",children:v.jsx("img",{src:"/assets/background-pattern-CBIFlkwP.png",alt:"",className:"background-pattern"})})]}),v.jsx(A,{isOpen:l,onClose:()=>c(!1),onStartGame:({teamNames:e,currentTeam:t})=>{m({teamNames:e,currentTeam:t}),i&&i(t),d(!0),o(),a(Dn("turnStart")),s()},onTeamChange:e=>p(e)}),v.jsx(w,{isOpen:u,onClose:()=>{d(!1)},currentTeamName:h.teamNames?.[n],onSubmit:function(e){a(Dn("challengeShown")),s();const t=parseInt(e,10),n=Pn[t];if(n)return x("WatchVideoAndChooseRightAnswerModal"),j(n),d(!1),void b(!0);const r=Hn.find(e=>e.id===t);if(r)return x("VidQuizAndFourImageAnswerModal"),j(r),d(!1),void b(!0);const i=Bn[t];if(i)return x("ListenToSoundPickRightAnswerModal"),j(i),d(!1),void b(!0);const o=zn[t];if(o)return x("DoTheChallengeModal"),j(o),d(!1),void b(!0);const l=function(e){const t=Number(e);return qn[t]||null}(t);if(l)return x("ClassifyWordsModal"),j(l),d(!1),void b(!0);const c=function(e){const t=Number(e);return Vn[t]||null}(t);if(c)return x("MemorizeInLimitedTimeAndChooseAnswerModal"),j(c),d(!1),void b(!0);const u=function(e){const t=Number(e);return Xn[t]||null}(t);if(u)return x("MatchPairsModal"),j(u),d(!1),void b(!0);const h=function(e){const t=Number(e);return On[t]||null}(t);if(h)return x("EnterTextAsAnswerModal"),j(h),d(!1),void b(!0);const m=Ln[t];if(m)return x("ReadAndChooseAnswerWithImageModal"),j(m),d(!1),void b(!0);const g=function(e){const t=Number(e);return In[t]||null}(t);if(g)return x("ReadAndChooseModal"),j(g),d(!1),void b(!0);const p=isNaN(t)?0:Math.max(0,Math.min(8,t-1));x(E[p]),j(null),d(!1),b(!0)}}),I&&v.jsx(I,{isOpen:f,onClose:()=>b(!1),onResult:function(e,i={}){const o=t[n]||0;let l=o,c=0;"success"===e?(void 0!==i.points?(c=i.points,l=o+c):(c=1,l=o+1),a(Dn("success"))):"failure"===e&&(c=-3,l=Math.max(0,o-3),a(Dn("failure"))),s(),r(e),b(!1),M({added:c,total:l}),"success"===e?T(!0):D(!0)},questionData:N}),v.jsx(jn,{isOpen:S,onClose:()=>{T(!1),setTimeout(()=>d(!0),320)},teamName:h.teamNames?.[n],addedPoints:k.added>0?k.added:0,totalPoints:k.total}),v.jsx(Sn,{isOpen:R,onClose:()=>{D(!1),setTimeout(()=>d(!0),320)},teamName:h.teamNames?.[n],totalPoints:k.total})]})}function Jn(){return v.jsx(j,{children:v.jsx(Wn,{})})}function Yn(){return v.jsx("div",{className:"about-page",children:v.jsxs("div",{className:"container",children:[v.jsxs("section",{className:"section about-header",children:[v.jsx("h1",{className:"page-title",children:"About Bong Capstone"}),v.jsx("p",{className:"page-subtitle",children:"A modern, mobile-first web application built with cutting-edge technologies"})]}),v.jsxs("section",{className:"section about-content",children:[v.jsxs("div",{className:"content-card",children:[v.jsx("h2",{children:"Our Mission"}),v.jsx("p",{children:"We aim to deliver exceptional mobile experiences by leveraging the latest web technologies and best practices. Our focus is on creating fast, responsive, and intuitive applications that work seamlessly across all devices."})]}),v.jsxs("div",{className:"content-card",children:[v.jsx("h2",{children:"Technology Stack"}),v.jsxs("ul",{className:"tech-list",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"React 18"})," - Modern UI library with concurrent features"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Vite"})," - Next-generation frontend tooling"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"React Router"})," - Declarative routing for React"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"PWA"})," - Progressive Web App capabilities"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"CSS Variables"})," - Dynamic theming support"]})]})]}),v.jsxs("div",{className:"content-card",children:[v.jsx("h2",{children:"Mobile-First Approach"}),v.jsx("p",{children:"This application is designed with mobile users in mind. Every component and interaction has been optimized for touch interfaces, with minimum touch target sizes of 44x44 pixels, smooth transitions, and responsive layouts that adapt to any screen size."})]})]})]})})}function Zn(){return"/"===n().pathname?v.jsx(a,{children:v.jsx(s,{path:"/",element:v.jsx(Jn,{})})}):v.jsx(N,{children:v.jsxs(a,{children:[v.jsx(s,{path:"/about",element:v.jsx(Yn,{})}),v.jsx(s,{path:"*",element:v.jsx(_n,{})})]})})}function _n(){return v.jsxs("div",{className:"container section",style:{textAlign:"center",padding:"4rem 1rem"},children:[v.jsx("h1",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"404"}),v.jsx("p",{style:{fontSize:"1.25rem",marginBottom:"2rem"},children:"Page not found"}),v.jsx("a",{href:"/",style:{display:"inline-block",padding:"0.75rem 1.5rem",backgroundColor:"var(--primary-color)",color:"white",textDecoration:"none",borderRadius:"var(--border-radius-md)",minHeight:"var(--touch-target-min)"},children:"Go Home"})]})}const $n=e.createContext(null);function er({children:t}){const[n,r]=e.useState(!1),[i,a]=e.useState(!1),s=e.useRef(null),o=e.useRef(!1);e.useEffect(()=>{s.current||(s.current=new Audio("/src/assets/theme_song.mp3"),s.current.loop=!0,s.current.preload="auto",s.current.volume=.4);const e=s.current,t=()=>{o.current||(o.current=!0,e.play().then(()=>{a(!0)}).catch(e=>{console.log("Autoplay prevented. User interaction required:",e),a(!1)}))},r=()=>{i||n||e.play().then(()=>{a(!0)}).catch(()=>{})};e.addEventListener("canplaythrough",t);const l=["click","touchstart","keydown"];return l.forEach(e=>{document.addEventListener(e,r,{once:!0})}),()=>{e.removeEventListener("canplaythrough",t),l.forEach(e=>{document.removeEventListener(e,r)})}},[i,n]);return v.jsx($n.Provider,{value:{isMuted:n,isPlaying:i,toggleMute:()=>{const e=s.current;e&&(n?e.play().then(()=>{a(!0),r(!1)}).catch(()=>{}):(e.pause(),a(!1),r(!0)))}},children:t})}function tr(){const{message:t,isVisible:n,cornerIndex:r}=En(),[i,a]=e.useState(!1),[s,o]=e.useState(""),[l,c]=e.useState([]),[u,d]=e.useState(0),[h,m]=e.useState(0),g=e.useRef(new Audio("/assets/chatbot_message_sound-HB7ay_nA.mp3"));return e.useEffect(()=>{setTimeout(()=>a(!0),100)},[]),e.useEffect(()=>{if(t){const e=t.split(" "),n=[];for(let t=0;t<e.length;t+=5)n.push(e.slice(t,t+5).join(" "));c(n),d(0),o(n[0])}},[t]),e.useEffect(()=>{n&&t&&(g.current.currentTime=0,g.current.play().catch(e=>console.log("Audio play failed:",e)))},[n,t]),e.useEffect(()=>{if(!n||l.length<=1)return;const e=setInterval(()=>{d(e=>{const t=(e+1)%l.length;return o(l[t]),m(e=>e+1),g.current.currentTime=0,g.current.play().catch(e=>console.log("Audio play failed:",e)),t})},6e3);return()=>clearInterval(e)},[n,l]),v.jsxs("div",{className:`chatbot-container corner-${r} ${i?"entered":""}`,children:[v.jsx("img",{src:"/assets/tro_ly_ai-D36-ePg8.png",alt:"Gạo",className:"chatbot-icon"}),n&&v.jsx("div",{className:"speech-bubble right-side",children:v.jsx("p",{className:"bubble-text",children:s})},h)]})}function nr(){const{isMuted:t,toggleMute:n}=function(){const t=e.useContext($n);if(!t)throw new Error("useAudio must be used within AudioProvider");return t}();return v.jsx("button",{className:"audio-control-button",onClick:n,"aria-label":t?"Unmute background music":"Mute background music",title:t?"Unmute background music":"Mute background music",children:v.jsx("img",{src:t?"data:image/png;base64,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":"data:image/png;base64,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",alt:t?"Muted":"Playing",className:"audio-control-icon"})})}function rr(){return v.jsx(er,{children:v.jsx(Mn,{children:v.jsxs(o,{children:[v.jsx(tr,{}),v.jsx(nr,{}),v.jsx(Zn,{})]})})})}b.createRoot(document.getElementById("root")).render(v.jsx(i.StrictMode,{children:v.jsx(rr,{})}));
